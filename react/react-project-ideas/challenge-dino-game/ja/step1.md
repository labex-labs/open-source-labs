# 恐竜ゲーム

始めるには、エディタを開きます。エディタから以下のファイルが見えます。

```txt
├── public
├── src
│   ├──components
│   │  └── Dino
│   │       ├── img
│   │       │   ├── cactus.png
│   │       │   └── trex.png
│   │       ├── Dino.css
│   │       └── Dino.js
│   ├── App.js
│   ├── App.css
│   ├── index.css
│   └── index.js
├── package-lock.json
└── package.json
```

## 要件

- プロジェクトの依存関係をインストールするには、次のコマンドを使用します。

  ```bash
  npm i
  ```

- このチャレンジは、`src/components/Dino/Dino.js` ファイルで完了してください。
- 2つの `useRef` フックを初期化します。`dinoRef` と `cactusRef`。これらのフックは、恐竜とサボテンの DOM 要素を参照するために使用されます。
- 初期値が 0 の `score` という名前の `useState` フックを初期化します。このフックは、プレイヤーの得点を追跡します。
- `jump` 関数を定義します。これは、`dinoRef` で参照される恐竜の DOM 要素に "jump" クラスを追加します。これにより、恐竜がジャンプする CSS アニメーションがトリガーされます。300 ミリ秒のタイムアウト後、"jump" クラスが削除され、恐竜が元の位置に戻ります。
- `useEffect` フックを使用してゲームロジックを処理します。これは、10 ミリ秒ごとに実行されるインターバルを設定します。インターバル関数の中で、`getComputedStyle` 関数を使用して、恐竜の現在の位置 (dinoTop) とサボテン (cactusLeft) を取得します。
- サボテンの位置 (cactusLeft) と恐竜の位置 (dinoTop) を比較することで、衝突が発生したかどうかを確認します。サボテンが一定の範囲内にあり、恐竜と同じ高さにある場合、衝突が検出されます。この場合、プレイヤーの得点が表示されるアラートが表示され、`setScore` 関数を使用して得点が 0 にリセットされます。それ以外の場合は、`setScore` を使用して得点を 1 増やします。
- 最初の `useEffect` フックは、コンポーネントがアンマウントされたときにインターバルをクリアするクリーンアップ関数も返します。これにより、インターバルが適切にクリーンアップされ、メモリリークを回避できます。
- 2番目の `useEffect` フックは、"keydown" イベントのイベントリスナーを設定および削除する責任があります。キーが押されると、`jump` 関数が呼び出されます。これにより、プレイヤーは任意のキーを押すことで恐竜をジャンプさせることができます。

## 例

コードを完成させたら、次のコマンドで実行します。

```bash
npm start
```

完成した結果は次のとおりです。

![恐竜ゲームの最終結果](../assets/finished.gif)
