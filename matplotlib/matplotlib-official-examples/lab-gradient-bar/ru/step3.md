# Определяем функцию для градиентного изображения

Нам нужно определить функцию, которая будет создавать градиентное изображение на основе цветовой карты. Эта функция будет принимать объект оси, направление градиента и диапазон цветовой карты для использования. Затем функция сгенерирует градиентное изображение и вернет его.

```python
def gradient_image(ax, direction=0.3, cmap_range=(0, 1), **kwargs):
    """
    Рисует градиентное изображение на основе цветовой карты.

    Параметры
    ----------
    ax : Axes
        Ось, на которой будет нарисовано изображение.
    direction : float
        Направление градиента. Это число в диапазоне от 0 (=вертикальное) до 1 (=горизонтальное).
    cmap_range : float, float
        Доля (cmin, cmax) цветовой карты, которая должна быть использована для градиента, где полная цветовая карта составляет (0, 1).
    **kwargs
        Другие параметры передаются в `.Axes.imshow()`.
        В частности, *cmap*, *extent* и *transform* могут быть полезными.
    """
    phi = direction * np.pi / 2
    v = np.array([np.cos(phi), np.sin(phi)])
    X = np.array([[v @ [1, 0], v @ [1, 1]],
                  [v @ [0, 0], v @ [0, 1]]])
    a, b = cmap_range
    X = a + (b - a) / X.max() * X
    im = ax.imshow(X, interpolation='bicubic', clim=(0, 1),
                   aspect='auto', **kwargs)
    return im
```
