# 设置初始条件并求解常微分方程

现在我们将为模拟设置初始条件。我们将设定每个摆的初始角度和角速度，以及模拟的时间间隔。然后，我们将使用欧拉方法求解常微分方程（ODE），以得到每个摆在每个时间步的位置和速度。

```python
# 创建一个从0到t_stop的时间数组，采样间隔为0.02秒
dt = 0.01
t = np.arange(0, t_stop, dt)

# th1和th2是初始角度（度）
# w10和w20是初始角速度（度每秒）
th1 = 120.0
w1 = 0.0
th2 = -10.0
w2 = 0.0

# 初始状态
state = np.radians([th1, w1, th2, w2])

# 使用欧拉方法求解常微分方程
y = np.empty((len(t), 4))
y[0] = state
for i in range(1, len(t)):
    y[i] = y[i - 1] + derivs(t[i - 1], y[i - 1]) * dt
```
