# 深い思考

このエクササイズでは、`read_csv_as_dicts()` と `read_csv_as_columns()` の 2 つの関数を書きました。これらの関数は、ユーザーに対して同じようにデータを提示します。たとえば：

```python
>>> data1 = read_csv_as_dicts('ctabus.csv', [str, str, str, int])
>>> len(data1)
577563
>>> data1[0]
{'route': '3', 'date': '01/01/2001', 'daytype': 'U', 'rides': 7354}
>>> data1[1]
{'route': '4', 'date': '01/01/2001', 'daytype': 'U', 'rides': 9288}
>>>

>>> data2 = read_csv_as_columns('ctabus.csv', [str, str, str, int])
>>> len(data2)
577563
>>> data2[0]
{'route': '3', 'date': '01/01/2001', 'daytype': 'U', 'rides': 7354}
>>> data2[1]
{'route': '4', 'date': '01/01/2001', 'daytype': 'U', 'rides': 9288}
>>>
```

実際、書いた CTA データ分析コードではどちらの関数も使うことができます。しかし、内部的にはまったく異なることが起こっています。`read_csv_as_columns()` 関数は、データを異なる表現形式で格納しています。それは、Python のシーケンスプロトコル（マジックメソッド）に依存して、より有用な方法で情報を提示しています。

これは、「データ抽象化」というはるかに大きなプログラミング概念の一部です。プログラムを書く際、データの提示方法は、実際にデータがどのように構築されているかよりも重要なことが多いです。私たちはデータを辞書のシーケンスとして提示していますが、それが実際にどのように行われるかには非常に柔軟性があります。それは強力な考え方であり、自分自身のプログラムを書く際に考えるべきことです。
