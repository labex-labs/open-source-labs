# 特別なチャレンジプロジェクト

エクササイズ2.5では、`RideData` というクラスを作成し、それが列にすべてのバスデータを格納しましたが、実際にはユーザーに対して辞書のシーケンスとしてデータを提示しました。さまざまな形式のマジックを通じて、メモリをたくさん節約しました。

その考え方を一般化できますか？具体的には、次のように機能する汎用関数 `read_csv_as_columns()` を作成できますか？

```python
>>> data = read_csv_as_columns('ctabus.csv', types=[str, str, str, int])
>>> data
<__main__.DataCollection object at 0x102b45048>
>>> len(data)
577563
>>> data[0]
{'route': '3', 'date': '01/01/2001', 'daytype': 'U', 'rides': 7354}
>>> data[1]
{'route': '4', 'date': '01/01/2001', 'daytype': 'U', 'rides': 9288}
>>> data[2]
{'route': '6', 'date': '01/01/2001', 'daytype': 'U', 'rides': 6048}
>>>
```

この関数は汎用的である必要があります。任意のファイルと列の型のリストを渡すことができ、それによりデータを読み取ります。データは内部的に列として格納される `DataCollection` クラスに読み込まれます。ただし、アクセスするときには辞書のシーケンスとして表示されます。

最後の部分での文字列インターン技巧を使ってこの関数を試してみましょう。今、すべての乗車データを格納するのにどれだけのメモリが必要ですか？以前のCTA分析コードでもこの関数を使えますか？

## 注記：

`colreader.py` ファイル内の `read_csv_as_columns()` 関数を完成させます。
