# 関数引数の渡し方の理解

Python では、関数は一連の文をまとめて特定のタスクを実行するための基本的な概念です。関数を呼び出す際には、多くの場合、関数に何らかのデータを渡す必要があります。これを引数と呼びます。Python では、これらの引数を関数に渡す方法がいくつかあります。この柔軟性は非常に便利で、よりクリーンで保守しやすいコードを書くのに役立ちます。これらの技術をプロジェクトに適用する前に、引数の渡し方について詳しく見てみましょう。

## 作業のバックアップを作成する

`stock.py` ファイルに変更を加える前に、バックアップを作成するのが良い習慣です。こうすることで、実験中に何か問題が発生した場合でも、常に元のバージョンに戻すことができます。バックアップを作成するには、ターミナルを開き、次のコマンドを実行します。

```bash
cp stock.py orig_stock.py
```

このコマンドは、ターミナルの `cp`（コピー）コマンドを使用しています。`stock.py` ファイルをコピーし、`orig_stock.py` という名前のファイルを作成します。これにより、元の作業内容が安全に保存されます。

## 関数引数の渡し方を調べる

Python では、さまざまな種類の引数を持つ関数を呼び出す方法がいくつかあります。これらの方法を詳しく調べてみましょう。

### 1. 位置引数

関数に引数を渡す最も簡単な方法は、位置によって渡すことです。関数を定義するときには、パラメータのリストを指定します。関数を呼び出すときには、定義された順序でこれらのパラメータに値を渡します。

以下は例です。

```python
def calculate(x, y, z):
    return x + y + z

# Call with positional arguments
result = calculate(1, 2, 3)
print(result)  # Output: 6
```

この例では、`calculate` 関数は 3 つのパラメータ `x`、`y`、`z` を受け取ります。`calculate(1, 2, 3)` という呼び出しでは、値 `1` が `x` に割り当てられ、`2` が `y` に割り当てられ、`3` が `z` に割り当てられます。そして、関数はこれらの値を足し合わせて結果を返します。

### 2. キーワード引数

位置引数に加えて、引数を名前で指定することもできます。これをキーワード引数と呼びます。キーワード引数を使用する場合、引数の順序を気にする必要はありません。

以下は例です。

```python
# Call with a mix of positional and keyword arguments
result = calculate(1, z=3, y=2)
print(result)  # Output: 6
```

この例では、まず `x` の位置引数として `1` を渡します。その後、キーワード引数を使用して `y` と `z` の値を指定します。キーワード引数の順序は関係ありません。ただし、正しい名前を指定する必要があります。

### 3. シーケンスと辞書のアンパック

Python では、`*` と `**` 構文を使用して、シーケンスと辞書を引数として渡す便利な方法が提供されています。これをアンパックと呼びます。

以下は、タプルを位置引数にアンパックする例です。

```python
# Unpacking a tuple into positional arguments
args = (1, 2, 3)
result = calculate(*args)
print(result)  # Output: 6
```

この例では、`1`、`2`、`3` の値を含むタプル `args` があります。関数呼び出しで `args` の前に `*` 演算子を使用すると、Python はタプルをアンパックし、その要素を位置引数として `calculate` 関数に渡します。

以下は、辞書をキーワード引数にアンパックする例です。

```python
# Unpacking a dictionary into keyword arguments
kwargs = {'y': 2, 'z': 3}
result = calculate(1, **kwargs)
print(result)  # Output: 6
```

この例では、`'y': 2` と `'z': 3` のキーバリューペアを含む辞書 `kwargs` があります。関数呼び出しで `kwargs` の前に `**` 演算子を使用すると、Python は辞書をアンパックし、そのキーバリューペアをキーワード引数として `calculate` 関数に渡します。

### 4. 可変引数の受け取り

場合によっては、任意の数の引数を受け取ることができる関数を定義したいことがあります。Python では、関数定義で `*` と `**` 構文を使用することでこれを実現できます。

以下は、任意の数の位置引数を受け取る関数の例です。

```python
# Accept any number of positional arguments
def sum_all(*args):
    return sum(args)

print(sum_all(1, 2))           # Output: 3
print(sum_all(1, 2, 3, 4, 5))  # Output: 15
```

この例では、`sum_all` 関数は `*args` パラメータを使用して、任意の数の位置引数を受け取ります。`*` 演算子はすべての位置引数を `args` という名前のタプルにまとめます。そして、関数は組み込みの `sum` 関数を使用して、タプル内のすべての要素を合計します。

以下は、任意の数のキーワード引数を受け取る関数の例です。

```python
# Accept any number of keyword arguments
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="Python", year=1991)
# Output:
# name: Python
# year: 1991
```

この例では、`print_info` 関数は `**kwargs` パラメータを使用して、任意の数のキーワード引数を受け取ります。`**` 演算子はすべてのキーワード引数を `kwargs` という名前の辞書にまとめます。そして、関数は辞書内のキーバリューペアを反復処理して表示します。

これらの技術は、次のステップでより柔軟で再利用可能なコード構造を作成するのに役立ちます。これらの概念に慣れるために、Python インタープリタを開いて、上記の例を試してみましょう。

```bash
python3
```

Python インタープリタに入ったら、上記の例を入力してみてください。これにより、これらの引数の渡し方の技術を実際に体験することができます。
