# `from module import` 構文の使用

Python では、モジュールからコンポーネントをインポートする方法は様々あります。そのうちの 1 つが `from module import` 構文で、このセクションではこれについて説明します。

モジュールからコンポーネントをインポートする際には、新しい状態から始めることが良いアイデアです。これにより、以前の操作で残っている変数や設定が現在の実験に影響を与えることがなくなります。

1. Python インタープリタを再起動して新しい状態にする:

```python
>>> exit()
```

このコマンドは現在の Python インタープリタセッションを終了します。終了した後、新しいセッションを開始して新しい環境を確保します。

```bash
python3
```

この bash コマンドは新しい Python 3 インタープリタセッションを開始します。これで新しい Python 環境ができたので、モジュールからコンポーネントをインポートし始めることができます。

2. `from module import` 構文を使用してモジュールから特定のコンポーネントをインポートする:

```python
>>> from simplemod import foo
Loaded simplemod
>>> foo()
x is 42
```

ここでは、`from simplemod import foo` 文を使用して、`simplemod` モジュールから `foo` 関数のみをインポートしています。`foo` 関数のみを要求したにもかかわらず、`simplemod` モジュール全体が読み込まれたことに注意してください。これは「Loaded simplemod」という出力で示されています。これは、Python が `foo` 関数にアクセスするためにモジュール全体を読み込む必要があるからです。

3. `from module import` を使用すると、モジュール自体にアクセスできない:

```python
>>> simplemod.foo()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'simplemod' is not defined
```

`from module import` 構文を使用すると、指定されたコンポーネントのみが直接名前空間に取り込まれます。モジュール名自体はインポートされません。したがって、`simplemod.foo()` にアクセスしようとすると、Python は `simplemod` を認識できず、そのようにインポートされていないためエラーが発生します。

4. 一度に複数のコンポーネントをインポートすることができる:

```python
>>> from simplemod import x, foo
>>> x
42
>>> foo()
x is 42
```

`from module import` 構文を使用すると、1 つの文でモジュールから複数のコンポーネントをインポートすることができます。ここでは、`simplemod` モジュールから変数 `x` と関数 `foo` の両方をインポートしています。インポート後、これらのコンポーネントにコード内で直接アクセスすることができます。

5. モジュールから変数をインポートすると、モジュール内の変数へのリンクではなく、オブジェクトへの新しい参照が作成される:

```python
>>> x = 13  # ローカル変数 x を変更する
>>> x
13
>>> foo()
x is 42  # 関数はまだモジュールの x を使用しており、ローカルの x ではない
```

モジュールから変数をインポートすると、実質的にローカル名前空間内で同じオブジェクトへの新しい参照が作成されます。したがって、ローカル変数 `x` を `13` に変更しても、`simplemod` モジュール内の `x` 変数には影響しません。`foo()` 関数は依然としてモジュールの `x` 変数（`42`）を参照しています。この概念を理解することは、コードでの混乱を避けるために重要です。
