# Реализация приватных атрибутов

В Python, когда мы проектируем класс, существуют определенные атрибуты, которые предназначены только для использования внутри самого класса. Эти атрибуты являются частью внутренней реализации класса. Чтобы указать это другим разработчикам, мы следуем соглашению об именовании. Мы добавляем подчеркивание (`_`) в начале имен этих внутренних атрибутов. Это как знак, говорящий, что эти атрибуты не являются частью публичного API. Публичное API - это набор методов и атрибутов, с которыми должны взаимодействовать другие части кода. Таким образом, атрибуты с подчеркиванием не должны быть доступны напрямую извне класса.

Давайте посмотрим на текущий класс `Stock` в файле `stock.py`. Этот класс используется для представления акций и имеет переменную класса с именем `types`.

```python
class Stock:
    # Class variable for type conversions
    types = (str, int, float)

    # Rest of the class...
```

Переменная класса `types` используется внутри класса для преобразования данных строки. Например, когда мы получаем данные в строке, мы используем эти типы для преобразования данных в правильный формат. Поскольку это всего лишь деталь реализации и не то, с чем другие части кода должны напрямую взаимодействовать, мы должны пометить ее как приватную.

## Инструкции:

1. Сначала нам нужно открыть файл `stock.py` в редакторе. Мы можем сделать это с помощью следующей команды в терминале. Эта команда откроет файл в редакторе кода.

   ```bash
   code /home/labex/project/stock.py
   ```

2. Теперь мы собираемся изменить переменную класса `types`. Мы добавляем в начало ее имени подчеркивание, делая ее `_types`. Это изменение показывает, что эта переменная является приватной и не должна быть доступна напрямую извне класса.

   ```python
   class Stock:
       # Class variable for type conversions
       _types = (str, int, float)

       # Rest of the class...
   ```

3. После переименования переменной нам нужно обновить метод `from_row`. Этот метод использует переменную `types` для преобразования данных строки. Теперь, когда мы переименовали ее в `_types`, мы должны соответствующим образом обновить метод.

   ```python
   @classmethod
   def from_row(cls, row):
       values = [func(val) for func, val in zip(cls._types, row)]
       return cls(*values)
   ```

4. После внесения этих изменений нам нужно сохранить файл. Сохранение файла гарантирует, что наши изменения будут сохранены и могут быть использованы позже.

5. Чтобы протестировать наши изменения, мы собираемся создать скрипт Python с именем `test_stock.py`. Мы можем открыть файл в редакторе с помощью следующей команды.

   ```bash
   code /home/labex/project/test_stock.py
   ```

6. Теперь мы добавляем следующий код в файл `test_stock.py`. Этот код создает экземпляры класса `Stock` как напрямую, так и с использованием метода `from_row`. Затем он выводит информацию о этих экземплярах, такую как название, количество акций, цена и стоимость.

   ```python
   from stock import Stock

   # Create a stock instance
   s = Stock('GOOG', 100, 490.10)
   print(f"Name: {s.name}, Shares: {s.shares}, Price: {s.price}")
   print(f"Cost: {s.cost()}")

   # Create from row
   row = ['AAPL', '50', '142.5']
   apple = Stock.from_row(row)
   print(f"Name: {apple.name}, Shares: {apple.shares}, Price: {apple.price}")
   print(f"Cost: {apple.cost()}")
   ```

7. Наконец, мы запускаем тестовый скрипт с помощью следующей команды в терминале. Это выполнит код в файле `test_stock.py` и покажет нам результат.

   ```bash
   python /home/labex/project/test_stock.py
   ```

Вы должны увидеть вывод, похожий на следующий:

```
Name: GOOG, Shares: 100, Price: 490.1
Cost: 49010.0
Name: AAPL, Shares: 50, Price: 142.5
Cost: 7125.0
```
