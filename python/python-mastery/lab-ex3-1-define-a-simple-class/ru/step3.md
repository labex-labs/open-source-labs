# Форматирование и вывод данных о портфеле

На этом этапе мы создадим функцию, которая поможет нам отобразить данные о портфеле в хорошо организованной таблице. Портфель - это набор акций, и важно представлять эти данные в ясной и читаемой форме. Именно здесь приходит на помощь функция `print_portfolio(portfolio)`. Эта функция принимает портфель в качестве входных данных и отображает его в таблице с заголовками и правильным выравниванием.

## Форматирование строк в Python

В Python существует несколько способов форматировать строки. Форматирование строк - это важный навык, так как оно позволяет представлять данные более организованно и удобно для пользователя.

- Оператор `%` представляет собой старый стиль форматирования строк. Он похож на шаблон, в котором вы можете вставлять значения в определенные места строки.
- Метод `str.format()` - это другой способ. Он предоставляет больше гибкости и более чистый синтаксис для форматирования строк.
- f - строки - это функция, введенная в Python 3.6 и позднее. Они очень удобны, так как позволяют встраивать выражения внутри строковых литералов.

Для этого упражнения мы будем использовать оператор `%`. Он особенно полезен, когда вы хотите создать столбцы фиксированной ширины, что именно нужно для нашей таблицы с портфелем.

## Инструкции по реализации

1. Сначала откройте файл `stock.py` в вашем редакторе. Если он уже открыт, это замечательно. Именно в этом файле мы напишем нашу функцию `print_portfolio`.

2. После того, как файл открыт, найдите комментарий `# TODO: Add print_portfolio(portfolio) function here`. Этот комментарий является меткой, которая показывает, где нужно добавить нашу новую функцию.

3. Ниже этого комментария добавьте следующую функцию:

```python
def print_portfolio(portfolio):
    """
    Print the portfolio data in a nicely formatted table.

    Args:
        portfolio (list): A list of Stock objects
    """
    # Print the header row
    print('%10s %10s %10s' % ('name', 'shares', 'price'))

    # Print a separator line
    print('-' * 10 + ' ' + '-' * 10 + ' ' + '-' * 10)

    # Print each stock in the portfolio
    for stock in portfolio:
        print('%10s %10d %10.2f' % (stock.name, stock.shares, stock.price))
```

Эта функция сначала выводит заголовочную строку таблицы, затем разделительную строку, а затем проходит по каждой акции в портфеле и выводит ее детали в отформатированном виде.

4. После добавления функции сохраните файл. Вы можете сделать это, нажав `Ctrl+S` или выбрав "File > Save" в меню. Сохранение файла гарантирует, что ваши изменения будут сохранены.

5. Теперь нам нужно протестировать нашу функцию. Создайте новый файл с именем `test_print.py`. Этот файл будет нашим тестовым скриптом. Добавьте в него следующий код:

```python
# test_print.py
from stock import read_portfolio, print_portfolio

# Read the portfolio from the CSV file
portfolio = read_portfolio('portfolio.csv')

# Print the portfolio as a formatted table
print_portfolio(portfolio)
```

Этот скрипт импортирует функции `read_portfolio` и `print_portfolio` из файла `stock.py`. Затем он читает данные о портфеле из CSV - файла и использует нашу только что созданную функцию `print_portfolio` для отображения этих данных.

6. Наконец, запустите тестовый скрипт. Откройте терминал и введите следующую команду:

```bash
python3 test_print.py
```

Если все работает правильно, вы должны увидеть вывод, похожий на следующий:

```
      name     shares      price
---------- ---------- ----------
        AA        100      32.20
       IBM         50      91.10
       CAT        150      83.44
      MSFT        200      51.23
        GE         95      40.37
      MSFT         50      65.10
       IBM        100      70.44
```

Этот вывод подтверждает, что ваша функция `print_portfolio` работает как ожидается. Она форматирует и отображает данные о портфеле в таблице с заголовками и выровненными столбцами, что делает вывод легко читаемым.

## Понимание форматирования строк

Давайте более подробно рассмотрим, как работает форматирование строк в функции `print_portfolio`.

- `%10s` используется для форматирования строки. Число `10` указывает ширину поля, а буква `s` обозначает строку. Она выравнивает строку по правому краю в поле шириной 10.
- `%10d` используется для форматирования целого числа. Число `10` - это ширина поля, а буква `d` представляет целое число. Она также выравнивает целое число по правому краю в поле шириной 10.
- `%10.2f` используется для форматирования числа с плавающей точкой. Число `10` - это ширина поля, а `.2` указывает, что мы хотим отображать число с плавающей точкой с двумя знаками после запятой. Она выравнивает число с плавающей точкой по правому краю в поле шириной 10.

Это форматирование обеспечивает правильное выравнивание всех столбцов в нашей таблице, что делает вывод намного легче для чтения и понимания.
