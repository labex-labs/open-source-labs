# Использование модуля `inspect`

В Python стандартная библиотека включает очень полезный модуль `inspect`. Этот модуль похож на инструмент детектива, который помогает нам собирать информацию о "живых" объектах в Python. "Живые" объекты могут быть, например, модулями, классами и функциями. Вместо того чтобы вручную просматривать атрибуты объекта в поисках информации, модуль `inspect` предоставляет более организованные и высокоуровневые способы для понимания свойств функций.

Продолжим использовать ту же интерактивную оболочку Python, чтобы исследовать, как работает этот модуль.

## Сигнатуры функций

Функция `inspect.signature()` является удобным инструментом. Когда вы передаете ей функцию, она возвращает объект `Signature`. Этот объект содержит важные детали о параметрах функции.

Вот пример. Предположим, у нас есть функция с именем `add`. Мы можем использовать функцию `inspect.signature()`, чтобы получить ее сигнатуру:

```python
import inspect
sig = inspect.signature(add)
print(sig)
```

При запуске этого кода вывод будет следующим:

```
(x, y)
```

Этот вывод показывает нам сигнатуру функции, которая сообщает, какие параметры функция может принимать.

## Изучение деталей параметров

Мы можем пойти дальше и получить более глубокую информацию о каждом параметре функции.

```python
print(sig.parameters)
```

Вывод этого кода будет:

```
OrderedDict([('x', <Parameter "x">), ('y', <Parameter "y">)])
```

Параметры функции хранятся в упорядоченном словаре. Иногда нас могут интересовать только имена параметров. Мы можем преобразовать этот упорядоченный словарь в кортеж, чтобы извлечь только имена параметров.

```python
param_names = tuple(sig.parameters)
print(param_names)
```

Вывод будет:

```
('x', 'y')
```

## Изучение отдельных параметров

Мы также можем более подробно рассмотреть каждый отдельный параметр. Следующий код проходит по каждому параметру функции и выводит некоторые важные детали о нем.

```python
for name, param in sig.parameters.items():
    print(f"Parameter: {name}")
    print(f"  Kind: {param.kind}")
    print(f"  Default: {param.default if param.default is not param.empty else 'No default'}")
```

Этот код покажет нам детали о каждом параметре. Он сообщает нам тип параметра (является ли он позиционным параметром, параметром - ключевым словом и т.д.) и его значение по умолчанию, если оно есть.

Модуль `inspect` имеет много других полезных функций для интроспекции функций. Вот несколько примеров:

- `inspect.getdoc(obj)`: Эта функция извлекает строку документации для объекта. Строки документации похожи на заметки, которые программисты пишут, чтобы объяснить, что делает объект.
- `inspect.getfile(obj)`: Она помогает нам узнать, в каком файле объект определен. Это может быть очень полезно, когда мы хотим найти исходный код объекта.
- `inspect.getsource(obj)`: Эта функция получает исходный код объекта. Она позволяет нам увидеть, как именно объект реализован.
