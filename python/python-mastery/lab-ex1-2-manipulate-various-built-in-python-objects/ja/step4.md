# Python の辞書を扱う

Python では、辞書（dictionary）は基本的なデータ構造です。辞書はキーと値のペアを格納するもので、ある値（値）を別のもの（キー）にマッピングすることができます。これは、自然なキーと値の関係を持つデータを扱う際に非常に便利です。たとえば、人の名前（キー）をその年齢（値）にマッピングしたり、この実験で見るように、株式シンボル（キー）をその価格（値）にマッピングしたりすることができます。

## 辞書の作成とアクセス

まず、新しい Python 対話型セッションを開きましょう。これは、Python コードを一行ずつ記述して実行できる特別な環境に入るようなものです。このセッションを開始するには、ターミナルを開き、次のコマンドを入力します。

```bash
python3
```

Python 対話型セッションに入ったら、辞書を作成することができます。ここでは、株式シンボルをその価格にマッピングする辞書を作成します。以下はその方法です。

```python
>>> prices = {'IBM': 91.1, 'GOOG': 490.1, 'AAPL': 312.23}
>>> prices
{'IBM': 91.1, 'GOOG': 490.1, 'AAPL': 312.23}
```

最初の行では、`prices` という名前の辞書を作成し、いくつかのキーと値のペアを割り当てています。キーは株式シンボル（`IBM`、`GOOG`、`AAPL`）で、値は対応する価格です。2 行目は、`prices` 辞書の内容を表示しています。

では、キーを使用して辞書内の値にアクセスし、変更する方法を見てみましょう。

```python
>>> prices['IBM']    # キー 'IBM' の値にアクセス
91.1

>>> prices['IBM'] = 123.45    # 既存の値を更新
>>> prices
{'IBM': 123.45, 'GOOG': 490.1, 'AAPL': 312.23}

>>> prices['HPQ'] = 26.15    # 新しいキーと値のペアを追加
>>> prices
{'IBM': 123.45, 'GOOG': 490.1, 'AAPL': 312.23, 'HPQ': 26.15}
```

最初の行では、キー `IBM` に関連付けられた値にアクセスしています。2 行目と 3 行目では、キー `IBM` の値を更新し、新しいキーと値のペア（価格が `26.15` の `HPQ`）を追加しています。

## 辞書のキーを取得する

時には、辞書内のすべてのキーのリストを取得したいことがあります。これを行う方法はいくつかあります。

```python
>>> list(prices)    # 辞書のキーをリストに変換
['IBM', 'GOOG', 'AAPL', 'HPQ']
```

ここでは、`list()` 関数を使用して、`prices` 辞書のキーをリストに変換しています。

`keys()` メソッドを使用することもできます。このメソッドは `dict_keys` と呼ばれる特別なオブジェクトを返します。

```python
>>> prices.keys()    # dict_keys オブジェクトを返す
dict_keys(['IBM', 'GOOG', 'AAPL', 'HPQ'])
```

## 辞書の値を取得する

同様に、辞書内のすべての値を取得したいことがあります。この場合は `values()` メソッドを使用することができます。

```python
>>> prices.values()    # dict_values オブジェクトを返す
dict_values([123.45, 490.1, 312.23, 26.15])
```

このメソッドは、`prices` 辞書内のすべての値を含む `dict_values` オブジェクトを返します。

## 項目の削除

辞書からキーと値のペアを削除したい場合は、`del` キーワードを使用することができます。

```python
>>> del prices['AAPL']    # 'AAPL' のエントリを削除
>>> prices
{'IBM': 123.45, 'GOOG': 490.1, 'HPQ': 26.15}
```

ここでは、`prices` 辞書からキー `AAPL` のキーと値のペアを削除しています。

## キーの存在を確認する

辞書内にキーが存在するかどうかを確認するには、`in` 演算子を使用することができます。

```python
>>> 'IBM' in prices
True
>>> 'AAPL' in prices
False
```

`in` 演算子は、キーが辞書内に存在する場合は `True` を返し、存在しない場合は `False` を返します。

## 辞書のメソッド

辞書にはいくつかの便利なメソッドがあります。いくつか見てみましょう。

```python
>>> prices.get('MSFT', 0)    # キーが存在しない場合はデフォルト値を返す
0
>>> prices.get('IBM', 0)
123.45

>>> prices.update({'MSFT': 25.0, 'GOOG': 500.0})    # 複数の値を更新
>>> prices
{'IBM': 123.45, 'GOOG': 500.0, 'HPQ': 26.15, 'MSFT': 25.0}
```

`get()` メソッドは、キーに関連付けられた値を取得しようとします。キーが存在しない場合は、デフォルト値（この場合は `0`）を返します。`update()` メソッドは、辞書内の複数のキーと値のペアを一度に更新するために使用されます。

Python 対話型セッションでの作業が終了したら、次のように入力してセッションを終了できます。

```python
>>> exit()
```
