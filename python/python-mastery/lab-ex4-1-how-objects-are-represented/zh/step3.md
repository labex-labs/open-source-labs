# 添加和修改对象属性

在 Python 中，对象是基于字典实现的。这种实现方式让 Python 在处理对象属性时具有高度的灵活性。与其他一些编程语言不同，Python 并不将对象的属性局限于类中定义的那些。这意味着你可以在任何时候为对象添加新的属性，即使对象已经创建完成。

让我们通过为其中一个实例添加新属性来探索这种灵活性。假设我们有一个名为 `goog` 的类实例。我们将为它添加一个 `date` 属性：

```python
>>> goog.date = "6/11/2007"
>>> goog.__dict__
{'name': 'GOOG', 'shares': 100, 'price': 490.1, 'date': '6/11/2007'}
```

在这里，我们为 `goog` 实例添加了一个新属性 `date`。注意，这个 `date` 属性并未在 `SimpleStock` 类中定义。这个新属性仅存在于 `goog` 实例上。为了确认这一点，让我们检查一下 `ibm` 实例：

```python
>>> ibm.__dict__
{'name': 'IBM', 'shares': 50, 'price': 91.23}
>>> hasattr(ibm, 'date')
False
```

正如我们所见，`ibm` 实例并没有 `date` 属性。这展示了 Python 对象的三个重要特性：

1. 每个实例都有自己独特的属性集。
2. 对象创建后可以添加属性。
3. 为一个实例添加属性不会影响其他实例。

现在，让我们尝试用另一种方式添加属性。我们不使用点号表示法，而是直接操作对象的底层字典。在 Python 中，每个对象都有一个特殊属性 `__dict__`，它将对象的所有属性存储为键值对。

```python
>>> goog.__dict__['time'] = '9:45am'
>>> goog.time
'9:45am'
>>> goog.__dict__
{'name': 'GOOG', 'shares': 100, 'price': 490.1, 'date': '6/11/2007', 'time': '9:45am'}
```

通过直接修改 `__dict__` 字典，我们为 `goog` 实例添加了一个新属性 `time`。当我们访问 `goog.time` 时，Python 会在 `__dict__` 字典中查找 'time' 键，并返回其对应的值。

这些示例表明，Python 对象本质上是带有一些额外特性的字典。Python 对象的灵活性允许进行动态修改，这在编程中非常强大且方便。
