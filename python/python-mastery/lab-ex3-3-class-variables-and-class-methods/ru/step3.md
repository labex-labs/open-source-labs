# Классовые переменные и наследование

Классовые переменные, такие как `types`, иногда используются в качестве механизма настройки при использовании наследования. Например, в классе `Stock` типы можно легко изменить в подклассе. Попробуйте этот пример, который изменяет атрибут `price` на экземпляр `Decimal` (что часто лучше подходит для финансовых вычислений):

```python
>>> from decimal import Decimal
>>> class DStock(Stock):
        types = (str, int, Decimal)

>>> row = ['AA', '100', '32.20']
>>> s = DStock.from_row(row)
>>> s.price
Decimal('32.20')
>>> s.cost()
Decimal('3220.0')
>>>
```

**Обсуждение дизайна**

Проблема, с которой мы сталкиваемся в этой лабораторной работе, связана с преобразованием данных, прочитанных из файла. Возникает вопрос: имеет ли смысл выполнять эти преобразования в методе `__init__()` класса `Stock`? Например:

```python
class Stock:
    def __init__(self, name, shares, price):
        self.name = str(name)
        self.shares = int(shares)
        self.price = float(price)
```

В таком случае вы преобразуете строку данных следующим образом:

```python
>>> row = ['AA', '100', '32.20']
>>> s = Stock(*row)
>>> s.name
'AA'
>>> s.shares
100
>>> s.price
32.2
>>>
```

Это хорошо или плохо? Какие у вас мысли? В целом, я думаю, что это сомнительный дизайн, так как он смешивает две разные вещи - создание экземпляра и преобразование данных. Кроме того, неявные преобразования в `__init__()` ограничивают гибкость и могут привести к странным ошибкам, если пользователь не обращает внимания.
