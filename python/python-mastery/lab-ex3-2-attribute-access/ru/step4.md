# Связанные методы

Может показаться удивительным, но вызов методов основан на механизме, используемом для простых атрибутов. По сути, метод - это атрибут, который выполняется, когда вы добавляете необходимые круглые скобки () для вызова его, как функции. Например:

```python
>>> s = Stock('GOOG',100,490.10)
>>> s.cost           # Ищет метод
<bound method Stock.cost of <__main__.Stock object at 0x409530>>
>>> s.cost()         # Ищет и вызывает метод
49010.0

>>> # Те же операции с использованием getattr()
>>> getattr(s, 'cost')
<bound method Stock.cost of <__main__.Stock object at 0x409530>>
>>> getattr(s, 'cost')()
49010.0
>>>
```

Связанный метод прикрепляется к объекту, откуда он взят. Если этот объект изменяется, метод увидит изменения. Вы можете просмотреть исходный объект, изучая атрибут `__self__` метода.

```python
>>> c = s.cost
>>> c()
49010.0
>>> s.shares = 75
>>> c()
36757.5
>>> c.__self__
<__main__.Stock object at 0x409530>
>>> c.__func__
<function cost at 0x37cc30>
>>> c.__func__(c.__self__)      # Вот что происходит "под капотом" при вызове c()
36757.5
>>>
```

Попробуйте это с методом `sell()`, чтобы убедиться, что вы понимаете механизм:

```python
>>> f = s.sell
>>> f.__func__(f.__self__, 25)     # То же, что и s.sell(25)
>>> s.shares
50
>>>
```
