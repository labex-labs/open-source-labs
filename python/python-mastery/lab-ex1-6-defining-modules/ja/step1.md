# Python モジュールの理解

Python では、モジュールは Python の定義や文を格納するコンテナのようなものです。実質的にはファイルであり、このファイルの名前がモジュール名で、末尾に `.py` 拡張子が付きます。モジュールをツールボックスのように考えてください。モジュールは Python コードを論理的に整理するのに役立ち、再利用やメンテナンスを容易にします。整理を良くするために異なるツールを別々のボックスに入れるように、関連する Python コードを異なるモジュールにグループ化することができます。

この実験で設定されたファイルを見てみましょう。

1. まず、エディタで `stock.py` ファイルを開き、中身を確認します。これを行うには、以下のコマンドを使用します。`cd` コマンドはディレクトリをファイルがある `project` フォルダに変更し、`cat` コマンドはファイルの内容を表示します。

```bash
cd ~/project
cat stock.py
```

この `stock.py` ファイルは `Stock` クラスを定義しています。クラスはオブジェクトを作成するための青写真のようなものです。この場合、`Stock` クラスは株式を表します。株式の名前、株数、価格に関する属性（特性のようなもの）があります。また、株式のコストを計算するメソッド（クラスに関連付けられた関数のようなもの）もあります。

2. 次に、`pcost.py` ファイルを調べましょう。再び `cat` コマンドを使用してその内容を表示します。

```bash
cat pcost.py
```

このファイルは `portfolio_cost()` という関数を定義しています。関数は特定のタスクを実行するコードのブロックです。`portfolio_cost()` 関数はポートフォリオファイルを読み込み、そのポートフォリオに含まれるすべての株式の総コストを計算します。

3. では、サンプルのポートフォリオデータを見てみましょう。`cat` コマンドを使用して `portfolio.dat` ファイルの内容を表示します。

```bash
cat portfolio.dat
```

このファイルには、簡単な形式で株式データが含まれています。各行には株式のティッカーシンボル、株数、1株あたりの価格が記載されています。

## import 文の使用

Python の `import` 文は、他のモジュールのコードを現在のプログラムで使用できるようにする強力なツールです。他のツールボックスからツールを借りるようなものです。コードをインポートするさまざまな方法を練習してみましょう。

1. まず、Python インタープリターを起動する必要があります。Python インタープリターは Python コードを実行するプログラムです。以下のコマンドを使用して起動します。

```bash
python3
```

2. では、`pcost` モジュールをインポートして、何が起こるか見てみましょう。`import` 文を使用すると、Python は `pcost.py` ファイルを探し、その中のコードを使用できるようにします。

```python
import pcost
```

出力として `44671.15` が表示されるはずです。これは `portfolio.dat` ファイルから計算されたポートフォリオのコストです。`pcost` モジュールがインポートされると、`pcost.py` ファイルの末尾のコードが自動的に実行されます。

3. 異なるポートフォリオファイルで `portfolio_cost()` 関数を呼び出してみましょう。`pcost.portfolio_cost()` 構文を使用して、`pcost` モジュールから関数を呼び出します。

```python
pcost.portfolio_cost('portfolio2.dat')
```

出力は `19908.75` であるはずで、これは2番目のポートフォリオファイルに含まれる株式の総コストを表しています。

4. では、`stock` モジュールから特定のクラスをインポートしてみましょう。モジュール全体をインポートする代わりに、`from...import` 文を使用して `Stock` クラスだけをインポートすることができます。

```python
from stock import Stock
```

5. `Stock` クラスをインポートした後、`Stock` オブジェクトを作成することができます。オブジェクトはクラスのインスタンスです。名前が `GOOG`、株数が 100、価格が `490.10` の `Stock` オブジェクトを作成します。そして、株式の名前を表示し、`cost()` メソッドを使用してそのコストを計算します。

```python
s = Stock('GOOG', 100, 490.10)
print(s.name)
print(s.cost())
```

出力は以下のようになるはずです。

```
GOOG
49010.0
```

6. 最後に、Python インタープリターの使用が終わったら、`exit()` 関数を使用して終了することができます。

```python
exit()
```

この実験では、Python コードをインポートする2つの異なる方法を示しました。

- `import module_name` - これはモジュール全体をインポートし、そのモジュール内のすべての関数、クラス、変数を使用できるようにします。
- `from module_name import specific_item` - これはモジュールから特定のアイテム（クラスや関数など）のみをインポートします。モジュールの機能の一部だけが必要な場合に便利です。
