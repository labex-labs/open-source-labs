# 最初のメタクラスの作成

ここでは、最初のメタクラスを作成します。コーディングを始める前に、メタクラスとは何かを理解しましょう。Python では、メタクラスは他のクラスを作成するクラスです。クラスの設計図のようなものです。Python でクラスを定義するとき、Python はメタクラスを使ってそのクラスを作成します。デフォルトでは、Python は `type` メタクラスを使用します。このステップでは、作成するクラスに関する情報を出力するカスタムメタクラスを定義します。これにより、メタクラスが内部でどのように動作するかを理解するのに役立ちます。

1. WebIDE で VSCode を開き、`/home/labex/project` ディレクトリに `mymeta.py` という名前の新しいファイルを作成します。ここにメタクラスのコードを記述します。

2. ファイルに以下のコードを追加します。

```python
# mymeta.py

class mytype(type):
    @staticmethod
    def __new__(meta, name, bases, __dict__):
        print("Creating class :", name)
        print("Base classes   :", bases)
        print("Attributes     :", list(__dict__))
        return super().__new__(meta, name, bases, __dict__)

class myobject(metaclass=mytype):
    pass
```

このコードが何をするかを分解してみましょう。

- まず、`type` を継承した `mytype` という新しいクラスを定義します。`type` は Python のデフォルトのメタクラスなので、これを継承することで独自のカスタムメタクラスを作成しています。
- 次に、`__new__` メソッドをオーバーライドします。Python では、`__new__` メソッドは新しいオブジェクトを作成するときに呼び出される特殊なメソッドです。メタクラスのコンテキストでは、新しいクラスを作成するときに呼び出されます。
- `__new__` メソッドの中で、作成されるクラスに関するいくつかの情報を出力します。クラス名、基底クラス、属性を出力します。その後、`super().__new__(meta, name, bases, __dict__)` を使って親の `__new__` メソッドを呼び出します。これは実際にクラスを作成するため、重要です。
- 最後に、`myobject` という名前の基底クラスを作成し、カスタムメタクラス `mytype` を使用するように指定します。

`__new__` メソッドは以下のパラメータを取ります。

- `meta`：これはメタクラス自体を指します。この場合、`mytype` です。
- `name`：これは作成されるクラスの名前です。
- `bases`：これは新しいクラスが継承する基底クラスを含むタプルです。
- `__dict__`：これはクラスの属性を含む辞書です。

3. Ctrl + S を押すか、「File」>「Save」をクリックしてファイルを保存します。ファイルを保存することで、コードが保存され、後で実行できるようになります。
