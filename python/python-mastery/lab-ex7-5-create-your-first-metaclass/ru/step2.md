# Создание своего первого метакласса

Теперь мы создадим наш самый первый метакласс. Прежде чем начать писать код, давайте разберемся, что такое метакласс. В Python метакласс - это класс, который создает другие классы. Он похож на чертеж для классов. Когда вы определяете класс в Python, Python использует метакласс для создания этого класса. По умолчанию Python использует метакласс `type`. На этом этапе мы определим пользовательский метакласс, который будет выводить информацию о классе, который он создает. Это поможет нам понять, как работают метаклассы "под капотом".

1. Откройте VSCode в WebIDE и создайте новый файл с именем `mymeta.py` в директории `/home/labex/project`. Именно здесь мы напишем код для метакласса.

2. Добавьте следующий код в файл:

```python
# mymeta.py

class mytype(type):
    @staticmethod
    def __new__(meta, name, bases, __dict__):
        print("Creating class :", name)
        print("Base classes   :", bases)
        print("Attributes     :", list(__dict__))
        return super().__new__(meta, name, bases, __dict__)

class myobject(metaclass=mytype):
    pass
```

Разберем, что делает этот код:

- Сначала мы определяем новый класс с именем `mytype`, который наследуется от `type`. Поскольку `type` является метаклассом по умолчанию в Python, наследуясь от него, мы создаем собственный пользовательский метакласс.
- Затем мы переопределяем метод `__new__`. В Python метод `__new__` - это специальный метод, который вызывается при создании нового объекта. В контексте метакласса он вызывается при создании нового класса.
- Внутри нашего метода `__new__` мы выводим некоторую информацию о создаваемом классе. Мы выводим имя класса, его базовые классы и его атрибуты. После этого мы вызываем метод `__new__` родительского класса с помощью `super().__new__(meta, name, bases, __dict__)`. Это важно, так как именно он создает класс.
- Наконец, мы создаем базовый класс с именем `myobject` и указываем, что он должен использовать наш пользовательский метакласс `mytype`.

Метод `__new__` принимает следующие параметры:

- `meta`: Это ссылка на сам метакласс. В нашем случае это `mytype`.
- `name`: Это имя создаваемого класса.
- `bases`: Это кортеж, содержащий базовые классы, от которых наследует новый класс.
- `__dict__`: Это словарь, содержащий атрибуты класса.

3. Сохраните файл, нажав Ctrl+S или выбрав File > Save. Сохранение файла гарантирует, что ваш код будет сохранен и может быть запущен позже.
