# Исследование набора данных

Начнем наше исследование с того, что взглянем на набор данных, с которым будем работать. Файл `ctabus.csv` представляет собой CSV (Comma-Separated Values) файл. CSV-файлы - это распространенный способ хранения табличных данных, где каждая строка представляет собой строку таблицы, а значения в строке разделены запятыми. Этот конкретный файл содержит ежедневные данные о пассажиропотоке автобусной системы Чикагской транспортной администрации (Chicago Transit Authority - CTA) за период с 1 января 2001 года по 31 августа 2013 года.

Для понимания структуры этого файла мы сначала заглянем внутрь него. Мы будем использовать Python для чтения файла и вывода нескольких строк. Откройте терминал и запустите следующий код на Python:

```python
f = open('/home/labex/project/ctabus.csv')
print(next(f))  # Read the header line
print(next(f))  # Read the first data line
print(next(f))  # Read the second data line
f.close()
```

В этом коде мы сначала открываем файл с помощью функции `open` и присваиваем его переменной `f`. Функция `next` используется для чтения следующей строки из файла. Мы используем ее три раза: первый раз для чтения заголовочной строки, которая обычно содержит имена столбцов в наборе данных. Второй и третий раз мы читаем первую и вторую строки данных соответственно. В конце мы закрываем файл с помощью метода `close`, чтобы освободить системные ресурсы.

Вы должны увидеть вывод, похожий на следующий:

```
route,date,daytype,rides

3,01/01/2001,U,7354

4,01/01/2001,U,9288
```

Этот вывод показывает, что файл содержит 4 столбца данных. Разберем, что представляет собой каждый столбец:

1. `route`: Это название или номер автобусного маршрута. Это первый столбец (столбец 0) в наборе данных.
2. `date`: Это строка с датой в формате MM/DD/YYYY. Это второй столбец (столбец 1).
3. `daytype`: Это код типа дня, который представляет собой третий столбец (столбец 2).
   - U = Воскресенье/Праздник
   - A = Суббота
   - W = Будний день
4. `rides`: Этот столбец записывает общее количество пассажиров в виде целого числа. Это четвертый столбец (столбец 3).

Столбец `rides` показывает, сколько человек сели в автобус на определенном маршруте в определенный день. Например, из приведенного выше вывода мы видим, что 7354 человека воспользовались автобусом №3 1 января 2001 года.

Теперь узнаем, сколько строк в файле. Знание количества строк даст нам представление о размере нашего набора данных. Запустите следующий код на Python:

```python
with open('/home/labex/project/ctabus.csv') as f:
    line_count = sum(1 for line in f)
    print(f"Total lines in the file: {line_count}")
```

В этом коде мы используем оператор `with` для открытия файла. Преимущество использования `with` заключается в том, что он автоматически закрывает файл, когда мы заканчиваем работу с ним. Затем мы используем генераторное выражение `(1 for line in f)` для создания последовательности единиц, по одной для каждой строки в файле. Функция `sum` суммирует все эти единицы, давая нам общее количество строк в файле. В конце мы выводим результат.

Должен получиться вывод примерно 577564 строк, что означает, что мы имеем дело с существенным набором данных. Этот большой набор данных предоставит нам много данных для анализа и получения полезной информации.
