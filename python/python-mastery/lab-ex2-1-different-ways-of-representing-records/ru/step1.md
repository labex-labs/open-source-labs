# Изучение набора данных

Начнем наше путешествие с внимательного изучения набора данных, с которым мы будем работать. Файл `ctabus.csv` представляет собой CSV-файл (Comma-Separated Values, значения, разделенные запятыми). CSV-файлы - это распространенный способ хранения табличных данных, где каждая строка представляет собой строку, а значения внутри строки разделены запятыми. Этот конкретный файл содержит данные о ежедневном количестве пассажиров автобусной системы Chicago Transit Authority (CTA) (Управление общественного транспорта Чикаго) за период с 1 января 2001 года по 31 августа 2013 года.

Разархивируйте файл и удалите zip-файл:

```bash
cd /home/labex/project
unzip ctabus.csv.zip
rm ctabus.csv.zip
```

Чтобы понять структуру этого файла, мы сначала заглянем внутрь него. Мы будем использовать Python для чтения файла и вывода нескольких строк. Откройте терминал и запустите следующий код Python:

```python
f = open('/home/labex/project/ctabus.csv')
print(next(f))  # Read the header line
print(next(f))  # Read the first data line
print(next(f))  # Read the second data line
f.close()
```

В этом коде мы сначала открываем файл с помощью функции `open` и присваиваем его переменной `f`. Функция `next` используется для чтения следующей строки из файла. Мы используем ее три раза: первый раз для чтения строки заголовка, которая обычно содержит имена столбцов в наборе данных. Второй и третий разы мы читаем первую и вторую строки данных соответственно. Наконец, мы закрываем файл с помощью метода `close`, чтобы освободить системные ресурсы.

Вы должны увидеть вывод, похожий на этот:

```
route,date,daytype,rides

3,01/01/2001,U,7354

4,01/01/2001,U,9288
```

Этот вывод показывает, что файл имеет 4 столбца данных. Давайте разберем, что представляет собой каждый столбец:

1. `route`: Это название или номер автобусного маршрута. Это первый столбец (столбец 0) в наборе данных.
2. `date`: Это строка даты в формате MM/DD/YYYY. Это второй столбец (столбец 1).
3. `daytype`: Это код типа дня, который является третьим столбцом (столбец 2).
   - U = Воскресенье/Праздник (Sunday/Holiday)
   - A = Суббота (Saturday)
   - W = Будний день (Weekday)
4. `rides`: Этот столбец записывает общее количество пассажиров в виде целого числа. Это четвертый столбец (столбец 3).

Столбец `rides` сообщает нам, сколько людей сели в автобус на определенном маршруте в определенный день. Например, из приведенного выше вывода мы видим, что 7354 человека проехали на автобусе номер 3 1 января 2001 года.

Теперь давайте выясним, сколько строк в файле. Знание количества строк даст нам представление о размере нашего набора данных. Запустите следующий код Python:

```python
with open('/home/labex/project/ctabus.csv') as f:
    line_count = sum(1 for line in f)
    print(f"Total lines in the file: {line_count}")
```

В этом коде мы используем оператор `with` для открытия файла. Преимущество использования `with` заключается в том, что он автоматически закрывает файл, когда мы заканчиваем с ним работать. Затем мы используем выражение-генератор `(1 for line in f)` для создания последовательности единиц, по одной для каждой строки в файле. Функция `sum` складывает все эти единицы, давая нам общее количество строк в файле. Наконец, мы выводим результат.

Это должно вывести примерно 577 564 строки, что означает, что мы имеем дело со значительным набором данных. Этот большой набор данных предоставит нам достаточно данных для анализа и извлечения информации.
