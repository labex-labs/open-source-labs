# 데이터 세트 탐색

작업할 데이터 세트를 자세히 살펴보면서 시작해 보겠습니다. 파일 `ctabus.csv`는 CSV (Comma-Separated Values, 쉼표로 구분된 값) 파일입니다. CSV 파일은 각 줄이 행을 나타내고 행 내의 값이 쉼표로 구분되는 표 형식 데이터를 저장하는 일반적인 방법입니다. 이 특정 파일은 2001 년 1 월 1 일부터 2013 년 8 월 31 일까지의 시카고 교통국 (CTA) 버스 시스템의 일일 승차 데이터를 담고 있습니다.

파일 압축을 풀고 zip 파일을 제거합니다.

```bash
cd /home/labex/project
unzip ctabus.csv.zip
rm ctabus.csv.zip
```

이 파일의 구조를 이해하기 위해 먼저 내부를 살펴보겠습니다. Python 을 사용하여 파일을 읽고 일부 줄을 출력합니다. 터미널을 열고 다음 Python 코드를 실행합니다.

```python
f = open('/home/labex/project/ctabus.csv')
print(next(f))  # Read the header line
print(next(f))  # Read the first data line
print(next(f))  # Read the second data line
f.close()
```

이 코드에서는 먼저 `open` 함수를 사용하여 파일을 열고 변수 `f`에 할당합니다. `next` 함수는 파일에서 다음 줄을 읽는 데 사용됩니다. 우리는 세 번 사용합니다. 첫 번째는 데이터 세트의 열 이름을 일반적으로 포함하는 헤더 줄을 읽기 위해 사용합니다. 두 번째와 세 번째는 각각 첫 번째 및 두 번째 데이터 줄을 읽습니다. 마지막으로, 시스템 리소스를 확보하기 위해 `close` 메서드를 사용하여 파일을 닫습니다.

다음과 유사한 출력을 볼 수 있습니다.

```
route,date,daytype,rides

3,01/01/2001,U,7354

4,01/01/2001,U,9288
```

이 출력은 파일에 4 개의 데이터 열이 있음을 보여줍니다. 각 열이 무엇을 나타내는지 자세히 살펴보겠습니다.

1. `route`: 이것은 버스 노선 이름 또는 번호입니다. 데이터 세트의 첫 번째 열 (열 0) 입니다.
2. `date`: MM/DD/YYYY 형식의 날짜 문자열입니다. 이것은 두 번째 열 (열 1) 입니다.
3. `daytype`: 요일 유형 코드이며 세 번째 열 (열 2) 입니다.
   - U = 일요일/공휴일
   - A = 토요일
   - W = 평일
4. `rides`: 이 열은 총 승차 인원수를 정수로 기록합니다. 이것은 네 번째 열 (열 3) 입니다.

`rides` 열은 특정 노선의 특정 날짜에 몇 명이 버스를 탔는지 알려줍니다. 예를 들어, 위의 출력에서 2001 년 1 월 1 일에 3 번 버스에 7,354 명이 탑승했음을 알 수 있습니다.

이제 파일에 몇 줄이 있는지 알아보겠습니다. 줄 수를 알면 데이터 세트의 크기를 파악할 수 있습니다. 다음 Python 코드를 실행합니다.

```python
with open('/home/labex/project/ctabus.csv') as f:
    line_count = sum(1 for line in f)
    print(f"Total lines in the file: {line_count}")
```

이 코드에서는 `with` 문을 사용하여 파일을 엽니다. `with`를 사용하면 완료되면 자동으로 파일을 닫아주는 장점이 있습니다. 그런 다음 제너레이터 표현식 `(1 for line in f)`를 사용하여 파일의 각 줄에 대해 1 의 시퀀스를 생성합니다. `sum` 함수는 이 모든 1 을 더하여 파일의 총 줄 수를 제공합니다. 마지막으로 결과를 출력합니다.

이것은 약 577,564 줄을 출력해야 하며, 이는 상당한 데이터 세트를 처리하고 있음을 의미합니다. 이 대규모 데이터 세트는 분석하고 통찰력을 얻을 수 있는 풍부한 데이터를 제공합니다.
