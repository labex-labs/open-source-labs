# Понимание проблемы

В этом практическом занятии (лабораторной работе) мы узнаем о наследовании в Python и о том, как оно может помочь нам создавать код, который будет как расширяемым, так и адаптивным. Наследование - это мощная концепция в объектно - ориентированном программировании, при которой класс может наследовать атрибуты и методы от другого класса. Это позволяет нам повторно использовать код и создавать более сложную функциональность на основе существующего кода.

Начнем с рассмотрения существующей функции `print_table()`. Именно эту функцию мы будем улучшать, чтобы сделать ее более гибкой в плане форматов вывода.

Сначала вам нужно открыть файл `tableformat.py` в редакторе WebIDE. Путь к этому файлу следующий:

```
/home/labex/project/tableformat.py
```

После открытия файла вы увидите текущую реализацию функции `print_table()`. Эта функция предназначена для форматирования и вывода табличных данных. Она принимает два основных входных параметра: список записей (которые являются объектами) и список имен полей. На основе этих входных данных она выводит красиво отформатированную таблицу.

Теперь давайте протестируем эту функцию, чтобы увидеть, как она работает. Откройте терминал в WebIDE и запустите следующие команды Python. Эти команды импортируют необходимые модули, считывают данные из CSV - файла и затем используют функцию `print_table()` для отображения данных.

```python
import stock
import reader
import tableformat

portfolio = reader.read_csv_as_instances('portfolio.csv', stock.Stock)
tableformat.print_table(portfolio, ['name', 'shares', 'price'])
```

После выполнения этих команд вы должны увидеть следующий вывод:

```
      name     shares      price
---------- ---------- ----------
        AA        100       32.2
       IBM         50       91.1
       CAT        150      83.44
      MSFT        200      51.23
        GE         95      40.37
      MSFT         50       65.1
       IBM        100      70.44
```

Вывод выглядит хорошо, но у этой функции есть ограничение. В настоящее время она поддерживает только один формат вывода, который представляет собой простой текст. В реальных сценариях вы, возможно, захотите выводить свои данные в разных форматах, таких как CSV, HTML или другие.

Вместо того чтобы вносить изменения в функцию `print_table()` каждый раз, когда мы хотим поддержать новый формат вывода, мы можем использовать наследование для создания более гибкого решения. Вот как мы это сделаем:

1. Мы определим базовый класс `TableFormatter`. Этот класс будет иметь методы, которые используются для форматирования данных. Базовый класс предоставляет общую структуру и функциональность, на основе которой могут строиться все подклассы.
2. Мы создадим различные подклассы. Каждый подкласс будет предназначен для определенного формата вывода. Например, один подкласс может быть для вывода в формате CSV, другой - для вывода в формате HTML и так далее. Эти подклассы будут наследовать методы от базового класса и также могут добавлять свою собственную специфическую функциональность.
3. Мы изменим функцию `print_table()`, чтобы она могла работать с любым форматером. Это означает, что мы можем передавать разные подклассы класса `TableFormatter` в функцию `print_table()`, и она сможет использовать соответствующие методы форматирования.

Этот подход имеет большое преимущество. Он позволяет нам добавлять новые форматы вывода без изменения основной функциональности функции `print_table()`. Таким образом, по мере изменения ваших требований и необходимости поддержки дополнительных форматов вывода, вы можете легко сделать это, создав новые подклассы.
