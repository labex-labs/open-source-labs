# Юнит-тесты с ожидаемыми ошибками

Предположим, что вы хотели бы написать юнит-тест, который проверяет наличие исключения. Вот, как вы можете это сделать:

```python
class TestStock(unittest.TestCase):
 ...
    def test_bad_shares(self):
        s = stock.Stock('GOOG', 100, 490.1)
        with self.assertRaises(TypeError):
             s.shares = '50'
 ...
```

С использованием этого теста в качестве руководства, напишите юнит-тесты для следующих режимов сбоя:

- Проверьте, что установка `shares` в строку вызывает `TypeError`
- Проверьте, что установка `shares` в отрицательное число вызывает `ValueError`
- Проверьте, что установка `price` в строку вызывает `TypeError`
- Проверьте, что установка `price` в отрицательное число вызывает `ValueError`
- Проверьте, что установка несуществующего атрибута `share` вызывает `AttributeError`

В сумме, у вас должно быть около двух десятков юнит-тестов, когда вы закончите.

**Важная примечание**

Для последующего использования в курсе вам понадобятся полностью работающие файлы `stock.py` и `teststock.py`. Сохраняйте свою работу в процессе, если необходимо, но вы сильно рекомендуется скопировать код из `Solutions/5_6`, если по-прежнему что-то не работает на этом этапе.

Мы будем использовать файл `teststock.py` в качестве инструмента для улучшения кода `Stock` позже. Вам понадобится его, чтобы убедиться, что новый код ведет себя так же, как старый.
