{
  "$schema": "https://cdn.jsdelivr.net/gh/labex-labs/schema/index.json",
  "type": "lab",
  "title": "Scoping Rules and Tricks",
  "description": "Understand the problem with class initialization, use locals() to access function arguments, explore stack frame inspection, and implement advanced initialization in structure in Python.",
  "meta": {
    "title": "Scoping Rules and Tricks",
    "description": "Understand the problem with class initialization, use locals() to access function arguments, explore stack frame inspection, and implement advanced initialization in structure in Python.",
    "keywords": "Python, scoping rules, class initialization, locals(), stack frame inspection"
  },
  "difficulty": "Beginner",
  "time": 20,
  "hidden": false,
  "fee_type": "free",
  "show_in_tutorial": true,
  "verified": true,
  "details": {
    "steps": [
      {
        "title": "Understanding the Problem with Class Initialization",
        "text": "en/step1.md",
        "verify": [
          {
            "name": "Verify file structure",
            "file": "verify1-1.sh",
            "hint": "Make sure structure.py and stock.py files exist",
            "timeout": 0,
            "showstderr": true
          }
        ],
        "skills": ["python/classes_objects", "python/constructor"]
      },
      {
        "title": "Using locals() to Access Function Arguments",
        "text": "en/step2.md",
        "verify": [
          {
            "name": "Verify Python history includes locals experiment",
            "file": "verify2-1.sh",
            "hint": "Make sure you've run the locals() experiment in the Python interpreter",
            "timeout": 0,
            "showstderr": true
          }
        ],
        "skills": ["python/arguments_return", "python/classes_objects"]
      },
      {
        "title": "Exploring Stack Frame Inspection",
        "text": "en/step3.md",
        "verify": [
          {
            "name": "Verify stack frame inspection experiment",
            "file": "verify3-1.sh",
            "hint": "Make sure you've explored the stack frame inspection technique",
            "timeout": 0,
            "showstderr": true
          }
        ],
        "skills": [
          "python/classes_objects",
          "python/function_definition",
          "python/scope"
        ]
      },
      {
        "title": "Implementing the Advanced Initialization in Structure",
        "text": "en/step4.md",
        "verify": [
          {
            "name": "Verify structure.py has been updated",
            "file": "verify4-1.sh",
            "hint": "Make sure structure.py contains the new implementation with _init method",
            "timeout": 0,
            "showstderr": true
          },
          {
            "name": "Verify stock.py has been updated",
            "file": "verify4-2.sh",
            "hint": "Make sure stock.py calls self._init()"
          }
        ],
        "skills": [
          "python/arguments_return",
          "python/classes_objects",
          "python/constructor"
        ],
        "solutions": ["step4_solution.py"]
      }
    ],
    "intro": {
      "text": "en/intro.md",
      "title": "Introduction",
      "background": "setup.sh"
    },
    "finish": {
      "text": "en/finish.md",
      "title": "Summary"
    },
    "assets": {
      "host01": [
        {
          "file": "stock.py",
          "target": "/home/labex/project",
          "chmod": "ugo+rwx"
        },
        {
          "file": "structure.py",
          "target": "/home/labex/project",
          "chmod": "ugo+rwx"
        }
      ]
    }
  },
  "backend": {
    "imageid": "webide-ubuntu:2204"
  },
  "contributors": [],
  "license": {
    "name": "CC-BY-SA-4.0",
    "url": "https://github.com/dabeaz-course/python-mastery/blob/main/LICENSE.md",
    "repo": "https://github.com/dabeaz-course/python-mastery"
  },
  "i18n": [
    {
      "lang": "zh",
      "title": "作用域规则与技巧",
      "description": "理解类初始化问题，使用 locals() 访问函数参数，探索栈帧检查，并在 Python 中实现结构的高级初始化。",
      "meta": {
        "title": "作用域规则与技巧",
        "description": "理解类初始化问题，使用 locals() 访问函数参数，探索栈帧检查，并在 Python 中实现结构的高级初始化。",
        "keywords": "Python, 作用域规则，类初始化，locals(), 栈帧检查"
      },
      "details": {
        "steps": [
          {
            "title": "理解初始初始化的问题",
            "text": "zh/step1.md",
            "verify": [
              {
                "name": "验证文件结构",
                "file": "verify1-1.sh",
                "hint": "确保 structure.py 和 stock.py 文件存在"
              }
            ]
          },
          {
            "title": "使用 locals() 访问函数参数",
            "text": "zh/step2.md",
            "verify": [
              {
                "name": "验证 Python 历史记录包含 locals 实验",
                "file": "verify2-1.sh",
                "hint": "确保你已在 Python 解释器中运行了 locals() 实验"
              }
            ]
          },
          {
            "title": "探索栈帧检查",
            "text": "zh/step3.md",
            "verify": [
              {
                "name": "验证栈帧检查实验",
                "file": "verify3-1.sh",
                "hint": "确保你已经探索过栈帧检查技术"
              }
            ]
          },
          {
            "title": "在结构体中实现高级初始化",
            "text": "zh/step4.md",
            "verify": [
              {
                "name": "验证 structure.py 已更新",
                "file": "verify4-1.sh",
                "hint": "确保 structure.py 包含带有 _init 方法的新实现"
              },
              {
                "name": "验证 stock.py 已更新",
                "file": "verify4-2.sh",
                "hint": "确保 stock.py 调用了 self._init()"
              }
            ]
          }
        ],
        "intro": {
          "text": "zh/intro.md",
          "title": "介绍"
        },
        "finish": {
          "text": "zh/finish.md",
          "title": "总结"
        }
      }
    },
    {
      "lang": "es",
      "title": "Reglas y trucos de alcance (scoping)",
      "description": "Comprende el problema de la inicialización de clases, utiliza locals() para acceder a los argumentos de una función, explora la inspección de marcos de pila (stack frame inspection) e implementa la inicialización avanzada en estructuras en Python.",
      "meta": {
        "title": "Reglas y trucos de alcance (scoping)",
        "description": "Comprende el problema de la inicialización de clases, utiliza locals() para acceder a los argumentos de una función, explora la inspección de marcos de pila (stack frame inspection) e implementa la inicialización avanzada en estructuras en Python.",
        "keywords": "Python, reglas de alcance (scoping), inicialización de clases, locals(), inspección de marcos de pila (stack frame inspection)"
      },
      "details": {
        "steps": [
          {
            "title": "Comprendiendo el problema de la inicialización de clases",
            "text": "es/step1.md",
            "verify": [
              {
                "name": "Verificar la estructura del archivo",
                "file": "verify1-1.sh",
                "hint": "Asegúrate de que existan los archivos structure.py y stock.py"
              }
            ]
          },
          {
            "title": "Usando locals() para acceder a los argumentos de una función",
            "text": "es/step2.md",
            "verify": [
              {
                "name": "Verificar que el historial de Python incluya el experimento con locals",
                "file": "verify2-1.sh",
                "hint": "Asegúrate de haber ejecutado el experimento con locals() en el intérprete de Python"
              }
            ]
          },
          {
            "title": "Explorando la inspección de marcos de pila (stack frames)",
            "text": "es/step3.md",
            "verify": [
              {
                "name": "Verificar el experimento de inspección de marcos de pila",
                "file": "verify3-1.sh",
                "hint": "Asegúrate de haber explorado la técnica de inspección de marcos de pila"
              }
            ]
          },
          {
            "title": "Implementando la inicialización avanzada en una estructura",
            "text": "es/step4.md",
            "verify": [
              {
                "name": "Verificar que structure.py se haya actualizado",
                "file": "verify4-1.sh",
                "hint": "Asegúrate de que structure.py contenga la nueva implementación con el método _init"
              },
              {
                "name": "Verificar que stock.py se haya actualizado",
                "file": "verify4-2.sh",
                "hint": "Asegúrate de que stock.py llame a self._init()"
              }
            ]
          }
        ],
        "intro": {
          "text": "es/intro.md",
          "title": "Introducción"
        },
        "finish": {
          "text": "es/finish.md",
          "title": "Resumen"
        }
      }
    },
    {
      "lang": "fr",
      "title": "Règles de portée et astuces",
      "description": "Comprendre le problème d'initialisation de classe, utiliser locals() pour accéder aux arguments de fonction, explorer l'inspection des cadres de pile (stack frame inspection) et implémenter une initialisation avancée dans une structure en Python.",
      "meta": {
        "title": "Règles de portée et astuces",
        "description": "Comprendre le problème d'initialisation de classe, utiliser locals() pour accéder aux arguments de fonction, explorer l'inspection des cadres de pile (stack frame inspection) et implémenter une initialisation avancée dans une structure en Python.",
        "keywords": "Python, règles de portée, initialisation de classe, locals(), inspection des cadres de pile"
      },
      "details": {
        "steps": [
          {
            "title": "Comprendre le problème d'initialisation de classe",
            "text": "fr/step1.md",
            "verify": [
              {
                "name": "Vérifier la structure du fichier",
                "file": "verify1-1.sh",
                "hint": "Assurez-vous que les fichiers structure.py et stock.py existent"
              }
            ]
          },
          {
            "title": "Utilisation de locals() pour accéder aux arguments de fonction",
            "text": "fr/step2.md",
            "verify": [
              {
                "name": "Vérifier que l'historique Python inclut l'expérience avec locals()",
                "file": "verify2-1.sh",
                "hint": "Assurez-vous d'avoir exécuté l'expérience avec locals() dans l'interpréteur Python"
              }
            ]
          },
          {
            "title": "Exploration de l'inspection des cadres de pile",
            "text": "fr/step3.md",
            "verify": [
              {
                "name": "Vérifier l'expérience d'inspection des cadres de pile",
                "file": "verify3-1.sh",
                "hint": "Assurez-vous d'avoir exploré la technique d'inspection des cadres de pile"
              }
            ]
          },
          {
            "title": "Implémentation de l'initialisation avancée dans une structure",
            "text": "fr/step4.md",
            "verify": [
              {
                "name": "Vérifier que structure.py a été mis à jour",
                "file": "verify4-1.sh",
                "hint": "Assurez-vous que structure.py contient la nouvelle implémentation avec la méthode _init"
              },
              {
                "name": "Vérifier que stock.py a été mis à jour",
                "file": "verify4-2.sh",
                "hint": "Assurez-vous que stock.py appelle self._init()"
              }
            ]
          }
        ],
        "intro": {
          "text": "fr/intro.md",
          "title": "Introduction"
        },
        "finish": {
          "text": "fr/finish.md",
          "title": "Résumé"
        }
      }
    },
    {
      "lang": "de",
      "title": "Geltungsbereichsregeln und Tricks",
      "description": "Verstehen Sie das Problem bei der Klasseninitialisierung, nutzen Sie locals() zum Zugriff auf Funktionsargumente, erkunden Sie die Stack-Frame-Inspektion und implementieren Sie erweiterte Initialisierung in Strukturen in Python.",
      "meta": {
        "title": "Geltungsbereichsregeln und Tricks",
        "description": "Verstehen Sie das Problem bei der Klasseninitialisierung, nutzen Sie locals() zum Zugriff auf Funktionsargumente, erkunden Sie die Stack-Frame-Inspektion und implementieren Sie erweiterte Initialisierung in Strukturen in Python.",
        "keywords": "Python, Geltungsbereichsregeln, Klasseninitialisierung, locals(), Stack-Frame-Inspektion"
      },
      "details": {
        "steps": [
          {
            "title": "Verständnis des Problems bei der Klasseninitialisierung",
            "text": "de/step1.md",
            "verify": [
              {
                "name": "Überprüfen Sie die Dateistruktur",
                "file": "verify1-1.sh",
                "hint": "Stellen Sie sicher, dass die Dateien structure.py und stock.py existieren"
              }
            ]
          },
          {
            "title": "Verwendung von locals() zum Zugriff auf Funktionsargumente",
            "text": "de/step2.md",
            "verify": [
              {
                "name": "Überprüfen, ob der Python-Verlauf das locals-Experiment enthält",
                "file": "verify2-1.sh",
                "hint": "Stellen Sie sicher, dass Sie das locals()-Experiment im Python-Interpreter ausgeführt haben"
              }
            ]
          },
          {
            "title": "Erkundung der Stack-Frame-Inspektion",
            "text": "de/step3.md",
            "verify": [
              {
                "name": "Überprüfen des Stack-Frame-Inspektionsexperiments",
                "file": "verify3-1.sh",
                "hint": "Stellen Sie sicher, dass Sie die Stack-Frame-Inspektionsmethode untersucht haben"
              }
            ]
          },
          {
            "title": "Implementierung der erweiterten Initialisierung in einer Struktur",
            "text": "de/step4.md",
            "verify": [
              {
                "name": "Überprüfen, ob structure.py aktualisiert wurde",
                "file": "verify4-1.sh",
                "hint": "Stellen Sie sicher, dass structure.py die neue Implementierung mit der _init-Methode enthält"
              },
              {
                "name": "Überprüfen, ob stock.py aktualisiert wurde",
                "file": "verify4-2.sh",
                "hint": "Stellen Sie sicher, dass stock.py self._init() aufruft"
              }
            ]
          }
        ],
        "intro": {
          "text": "de/intro.md",
          "title": "Einführung"
        },
        "finish": {
          "text": "de/finish.md",
          "title": "Zusammenfassung"
        }
      }
    },
    {
      "lang": "ja",
      "title": "スコープルールとテクニック",
      "description": "Python でクラスの初期化に関する問題を理解し、locals() を使って関数の引数にアクセスし、スタックフレームの調査を行い、構造体における高度な初期化を実装します。",
      "meta": {
        "title": "スコープルールとテクニック",
        "description": "Python でクラスの初期化に関する問題を理解し、locals() を使って関数の引数にアクセスし、スタックフレームの調査を行い、構造体における高度な初期化を実装します。",
        "keywords": "Python, スコープルール，クラスの初期化，locals(), スタックフレームの調査"
      },
      "details": {
        "steps": [
          {
            "title": "クラス初期化における問題の理解",
            "text": "ja/step1.md",
            "verify": [
              {
                "name": "ファイル構造の検証",
                "file": "verify1-1.sh",
                "hint": "structure.py と stock.py ファイルが存在することを確認してください"
              }
            ]
          },
          {
            "title": "locals() を使った関数引数へのアクセス",
            "text": "ja/step2.md",
            "verify": [
              {
                "name": "Python の履歴に locals 実験が含まれていることを確認",
                "file": "verify2-1.sh",
                "hint": "Python インタープリターで locals() の実験を実行したことを確認してください"
              }
            ]
          },
          {
            "title": "スタックフレーム検査の探索",
            "text": "ja/step3.md",
            "verify": [
              {
                "name": "スタックフレーム検査実験の確認",
                "file": "verify3-1.sh",
                "hint": "スタックフレーム検査技術を探索したことを確認してください"
              }
            ]
          },
          {
            "title": "構造体における高度な初期化の実装",
            "text": "ja/step4.md",
            "verify": [
              {
                "name": "structure.py が更新されていることを確認",
                "file": "verify4-1.sh",
                "hint": "structure.py に _init メソッドを用いた新しい実装が含まれていることを確認してください"
              },
              {
                "name": "stock.py が更新されていることを確認",
                "file": "verify4-2.sh",
                "hint": "stock.py が self._init() を呼び出していることを確認してください"
              }
            ]
          }
        ],
        "intro": {
          "text": "ja/intro.md",
          "title": "はじめに"
        },
        "finish": {
          "text": "ja/finish.md",
          "title": "まとめ"
        }
      }
    },
    {
      "lang": "ru",
      "title": "Правила области видимости и трюки",
      "description": "Понять проблемы с инициализацией классов, использовать функцию locals() для доступа к аргументам функции, изучить инспекцию стека вызовов и реализовать продвинутую инициализацию структуры в Python.",
      "meta": {
        "title": "Правила области видимости и трюки",
        "description": "Понять проблемы с инициализацией классов, использовать функцию locals() для доступа к аргументам функции, изучить инспекцию стека вызовов и реализовать продвинутую инициализацию структуры в Python.",
        "keywords": "Python, правила области видимости, инициализация классов, locals(), инспекция стека вызовов"
      },
      "details": {
        "steps": [
          {
            "title": "Понимание проблемы с инициализацией классов",
            "text": "ru/step1.md",
            "verify": [
              {
                "name": "Проверить структуру файлов",
                "file": "verify1-1.sh",
                "hint": "Убедитесь, что файлы structure.py и stock.py существуют"
              }
            ]
          },
          {
            "title": "Использование locals() для доступа к аргументам функции",
            "text": "ru/step2.md",
            "verify": [
              {
                "name": "Проверить, что в истории Python есть эксперимент с locals()",
                "file": "verify2-1.sh",
                "hint": "Убедитесь, что вы запустили эксперимент с locals() в интерпретаторе Python"
              }
            ]
          },
          {
            "title": "Исследование инспекции стека вызовов",
            "text": "ru/step3.md",
            "verify": [
              {
                "name": "Проверить эксперимент по инспекции стека вызовов",
                "file": "verify3-1.sh",
                "hint": "Убедитесь, что вы исследовали технику инспекции стека вызовов"
              }
            ]
          },
          {
            "title": "Реализация расширенной инициализации в структуре",
            "text": "ru/step4.md",
            "verify": [
              {
                "name": "Проверить, что structure.py был обновлен",
                "file": "verify4-1.sh",
                "hint": "Убедитесь, что structure.py содержит новую реализацию с методом _init"
              },
              {
                "name": "Проверить, что stock.py был обновлен",
                "file": "verify4-2.sh",
                "hint": "Убедитесь, что stock.py вызывает self._init()"
              }
            ]
          }
        ],
        "intro": {
          "text": "ru/intro.md",
          "title": "Введение"
        },
        "finish": {
          "text": "ru/finish.md",
          "title": "Резюме"
        }
      }
    },
    {
      "lang": "ko",
      "title": "스코핑 규칙과 트릭",
      "description": "클래스 초기화 문제 이해, locals() 를 사용하여 함수 인수에 접근, 스택 프레임 검사 탐구, Python 에서 구조의 고급 초기화 구현.",
      "meta": {
        "title": "Python 스코핑 규칙 및 고급 초기화 기법",
        "description": "Python 에서 클래스 초기화 문제 해결, locals() 활용, 스택 프레임 검사, 구조적 고급 초기화 구현 방법 안내. 파이썬 스코핑 규칙 학습.",
        "keywords": "Python, 스코핑 규칙, 클래스 초기화, locals(), 스택 프레임 검사, 파이썬 튜토리얼, 파이썬 프로그래밍"
      },
      "details": {
        "steps": [
          {
            "title": "클래스 초기화 문제 이해",
            "text": "ko/step1.md",
            "verify": [
              {
                "name": "파일 구조 확인",
                "file": "verify1-1.sh",
                "hint": "structure.py 및 stock.py 파일이 존재하는지 확인하세요"
              }
            ]
          },
          {
            "title": "locals() 를 사용하여 함수 인수에 접근하기",
            "text": "ko/step2.md",
            "verify": [
              {
                "name": "Python 히스토리에 locals 실험 포함 여부 확인",
                "file": "verify2-1.sh",
                "hint": "Python 인터프리터에서 locals() 실험을 실행했는지 확인하세요"
              }
            ]
          },
          {
            "title": "스택 프레임 검사 탐구",
            "text": "ko/step3.md",
            "verify": [
              {
                "name": "스택 프레임 검사 실험 확인",
                "file": "verify3-1.sh",
                "hint": "스택 프레임 검사 기법을 탐구했는지 확인하세요"
              }
            ]
          },
          {
            "title": "구조체 고급 초기화 구현",
            "text": "ko/step4.md",
            "verify": [
              {
                "name": "structure.py 업데이트 확인",
                "file": "verify4-1.sh",
                "hint": "structure.py 에 _init 메서드를 사용한 새로운 구현이 포함되어 있는지 확인하세요"
              },
              {
                "name": "stock.py 업데이트 확인",
                "file": "verify4-2.sh",
                "hint": "stock.py 가 self._init() 을 호출하는지 확인하세요"
              }
            ]
          }
        ],
        "intro": {
          "text": "ko/intro.md",
          "title": "소개"
        },
        "finish": {
          "text": "ko/finish.md",
          "title": "요약"
        }
      }
    },
    {
      "lang": "pt",
      "title": "Regras de Escopo e Truques",
      "description": "Entenda o problema com a inicialização de classes, use locals() para acessar argumentos de função, explore a inspeção de frames da pilha (stack frame) e implemente a inicialização avançada em estrutura em Python.",
      "meta": {
        "title": "Regras de Escopo e Truques Python - Inicialização de Classes",
        "description": "Aprenda sobre regras de escopo em Python, como usar locals() e inspeção de stack frames para inicialização avançada de classes. Melhore seu código Python!",
        "keywords": "Python, regras de escopo, inicialização de classes, locals(), inspeção de stack frame, Python avançado"
      },
      "details": {
        "steps": [
          {
            "title": "Entendendo o Problema com a Inicialização de Classes",
            "text": "pt/step1.md",
            "verify": [
              {
                "name": "Verificar estrutura de arquivos",
                "file": "verify1-1.sh",
                "hint": "Certifique-se de que os arquivos structure.py e stock.py existem"
              }
            ]
          },
          {
            "title": "Usando locals() para Acessar Argumentos de Função",
            "text": "pt/step2.md",
            "verify": [
              {
                "name": "Verifique se o histórico do Python inclui o experimento locals",
                "file": "verify2-1.sh",
                "hint": "Certifique-se de que você executou o experimento locals() no interpretador Python"
              }
            ]
          },
          {
            "title": "Explorando a Inspeção de Stack Frame",
            "text": "pt/step3.md",
            "verify": [
              {
                "name": "Verifique o experimento de inspeção de stack frame",
                "file": "verify3-1.sh",
                "hint": "Certifique-se de que você explorou a técnica de inspeção de stack frame"
              }
            ]
          },
          {
            "title": "Implementando a Inicialização Avançada em Estruturas",
            "text": "pt/step4.md",
            "verify": [
              {
                "name": "Verifique se structure.py foi atualizado",
                "file": "verify4-1.sh",
                "hint": "Certifique-se de que structure.py contém a nova implementação com o método _init"
              },
              {
                "name": "Verifique se stock.py foi atualizado",
                "file": "verify4-2.sh",
                "hint": "Certifique-se de que stock.py chama self._init()"
              }
            ]
          }
        ],
        "intro": {
          "text": "pt/intro.md",
          "title": "Introdução"
        },
        "finish": {
          "text": "pt/finish.md",
          "title": "Resumo"
        }
      }
    }
  ]
}
