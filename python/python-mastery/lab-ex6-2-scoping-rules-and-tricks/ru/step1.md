# Понимание проблемы с инициализацией классов

В мире программирования классы являются фундаментальным понятием, которое позволяет создавать пользовательские типы данных. В предыдущих упражнениях вы, возможно, создали класс `Structure`. Этот класс представляет собой полезный инструмент для простого определения структур данных. Структура данных - это способ организации и хранения данных таким образом, чтобы к ним можно было эффективно обращаться и использовать. Класс `Structure` в качестве базового класса занимается инициализацией атрибутов на основе предварительно определенного списка имен полей. Атрибуты - это переменные, принадлежащие объекту, а имена полей - это имена, которые мы даем этим атрибутам.

Давайте более подробно рассмотрим текущую реализацию класса `Structure`. Для этого нам нужно открыть файл `structure.py` в редакторе кода. Этот файл содержит код класса `Structure`. Вот команды для перехода в директорию проекта и открытия файла:

```bash
cd ~/project
code structure.py
```

Класс `Structure` предоставляет базовую структуру для определения простых структур данных. Когда мы создаем подкласс, например класс `Stock`, мы можем определить конкретные поля, которые нам нужны для этого подкласса. Подкласс наследует свойства и методы своего базового класса, в данном случае класса `Structure`. Например, в классе `Stock` мы определяем поля `name`, `shares` и `price`:

```python
class Stock(Structure):
    _fields = ('name', 'shares', 'price')
```

Теперь давайте откроем файл `stock.py`, чтобы увидеть, как класс `Stock` реализован в контексте всего кода. Вероятно, этот файл содержит код, который использует класс `Stock` и взаимодействует с ним. Используйте следующую команду для открытия файла:

```bash
code stock.py
```

Хотя этот подход с использованием класса `Structure` и его подклассов работает, он имеет несколько ограничений. Чтобы выявить эти проблемы, мы запустим интерпретатор Python и исследуем, как ведет себя класс `Stock`. Следующая команда импортирует класс `Stock` и отображает его справочную информацию:

```bash
python3 -c "from stock import Stock; help(Stock)"
```

Когда вы запустите эту команду, вы заметите, что сигнатура, показанная в выходных данных справки, не очень информативна. Вместо отображения реальных имен параметров, таких как `name`, `shares` и `price`, она показывает только `*args`. Этот недостаток четких имен параметров делает сложным для пользователей понять, как правильно создать экземпляр класса `Stock`.

Давайте также попробуем создать экземпляр класса `Stock` с использованием именованных аргументов (keyword arguments). Именованные аргументы позволяют вам указывать значения параметров по их именам, что может сделать код более читаемым. Запустите следующую команду:

```bash
python3 -c "from stock import Stock; s = Stock(name='GOOG', shares=100, price=490.1); print(s)"
```

Вы должны получить сообщение об ошибке, похожее на следующее:

```
TypeError: __init__() got an unexpected keyword argument 'name'
```

Эта ошибка возникает потому, что наш текущий метод `__init__`, который отвечает за инициализацию объектов класса `Stock`, не обрабатывает именованные аргументы. Он принимает только позиционные аргументы, что означает, что вы должны предоставлять значения в определенном порядке, не используя имена параметров. Это ограничение, которое мы хотим исправить в этом лабораторном занятии.

В этом лабораторном занятии мы рассмотрим различные подходы, чтобы сделать наш класс `Structure` более гибким и удобным для пользователя. Таким образом, мы сможем улучшить удобство использования класса `Stock` и других подклассов класса `Structure`.
