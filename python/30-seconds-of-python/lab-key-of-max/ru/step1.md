# Создание базовой функции

Начнем с создания ядра нашей функции. Мы будем разрабатывать ее пошагово. Сначала создайте файл с именем `key_of_max.py`. Вы можете использовать встроенный редактор кода LabEx или терминал-based редактор, такой как `nano` или `vim`. Внутри файла `key_of_max.py` добавьте следующий код:

![Редактор кода с функцией key_of_max](../assets/20250214-14-44-53-838b9T58.png)

```python
def key_of_max(d):
  """
  Возвращает ключ, связанный с максимальным значением в словаре 'd'.

  Если несколько ключей имеют максимальное значение, может быть возвращен любой из них.
  """
  return max(d, key=d.get)
```

Вот разбор кода:

- **`def key_of_max(d):`**: Это определяет функцию с именем `key_of_max`. Она принимает один аргумент `d`, который представляет собой словарь, с которым мы будем работать.
- **`return max(d, key=d.get)`**: Это самое важное в функции. Разберем его по частям:
  - **`max(d,...)`**: Встроенная функция `max()` находит наибольший элемент. По умолчанию, если передать `max()` словарь, она найдет наибольший _ключ_ (в алфавитном порядке). Мы этого не хотим; нам нужен ключ, _связанный с_ наибольшим _значением_.
  - **`key=d.get`**: Это ключевой момент. Аргумент `key` сообщает `max()`, как сравнивать элементы. `d.get` - это метод словарей. Когда вы вызываете `d.get(some_key)`, он возвращает _значение_, связанное с `some_key`. Установив `key=d.get`, мы говорим `max()`: "Сравнивайте элементы в словаре `d` по их _значениям_, а не по ключам." Функция `max()` затем возвращает _ключ_, соответствующий максимальному значению.
