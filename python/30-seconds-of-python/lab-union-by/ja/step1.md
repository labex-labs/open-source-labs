# 関数に基づくリストの和集合

`union_by(a, b, fn)` という関数を作成します。この関数は、2 つのリスト `a` と `b` と関数 `fn` を受け取ります。この関数は、両方のリストの各要素に提供された関数を適用した後、2 つのリストのいずれかに存在するすべての要素を一度だけ含むリストを返す必要があります。

この問題を解決するには、次の手順を辿ることができます。

1. `a` の各要素に `fn` を適用することで `set` を作成します。
2. 以前作成したセット `_a` に含まれていない値のみを保持するために、`b` で `fn` と組み合わせたリスト内包表記を使用します。
3. 最後に、以前の結果と `a` から `set` を作成し、それを `list` に変換します。

この関数は次の入力パラメータを持つ必要があります。

- `a`: 要素のリスト
- `b`: 要素のリスト
- `fn`: 要素を受け取り、値を返す関数

この関数は要素のリストを返す必要があります。

```python
def union_by(a, b, fn):
  _a = set(map(fn, a))
  return list(set(a + [item for item in b if fn(item) not in _a]))
```

```python
from math import floor

union_by([2.1], [1.2, 2.3], floor) # [2.1, 1.2]
```
