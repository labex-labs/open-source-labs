# Упражнение 2.4: Список кортежей

Файл `portfolio.csv` содержит список акций в портфеле. В упражнении 1.30 вы написали функцию `portfolio_cost(filename)`, которая читала этот файл и выполняла простые вычисления.

Ваш код должен был выглядеть примерно так:

```python
# pcost.py

import csv

def portfolio_cost(filename):
    '''Вычисляет общую стоимость (количество акций * цена) файла портфеля'''
    total_cost = 0.0

    with open(filename, 'rt') as f:
        rows = csv.reader(f)
        headers = next(rows)
        for row in rows:
            nshares = int(row[1])
            price = float(row[2])
            total_cost += nshares * price
    return total_cost
```

Используя этот код в качестве ориентира, создайте новый файл `report.py`. В этом файле определите функцию `read_portfolio(filename)`, которая открывает заданный файл портфеля и читает его в список кортежей. Для этого вам нужно сделать несколько небольших изменений в коде выше.

Во - первых, вместо определения `total_cost = 0` вы создадите переменную, которая изначально будет равна пустому списку. Например:

```python
portfolio = []
```

Далее, вместо суммирования стоимости, вы превратите каждую строку в кортеж точно так же, как вы делали это в предыдущем упражнении, и добавьте его в этот список. Например:

```python
for row in rows:
    holding = (row[0], int(row[1]), float(row[2]))
    portfolio.append(holding)
```

Наконец, вы вернете полученный список `portfolio`.

Протестируйте свою функцию интерактивно (напомним, что для этого вам сначала нужно запустить программу `report.py` в интерпретаторе):

_Подсказка: используйте `-i` при выполнении файла в терминале_

```python
>>> portfolio = read_portfolio('/home/labex/project/portfolio.csv')
>>> portfolio
[('AA', 100, 32.2), ('IBM', 50, 91.1), ('CAT', 150, 83.44), ('MSFT', 200, 51.23),
    ('GE', 95, 40.37), ('MSFT', 50, 65.1), ('IBM', 100, 70.44)]
>>>
>>> portfolio[0]
('AA', 100, 32.2)
>>> portfolio[1]
('IBM', 50, 91.1)
>>> portfolio[1][1]
50
>>> total = 0.0
>>> for s in portfolio:
        total += s[1] * s[2]

>>> print(total)
44671.15
>>>
```

Этот список кортежей, который вы создали, очень похож на двумерный массив. Например, вы можете получить доступ к определенной колонке и строке с помощью обращения вида `portfolio[row][column]`, где `row` и `column` - целые числа.

Тем не менее, вы также можете переписать последний цикл for с использованием такого выражения:

```python
>>> total = 0.0
>>> for name, shares, price in portfolio:
            total += shares*price

>>> print(total)
44671.15
>>>
```
