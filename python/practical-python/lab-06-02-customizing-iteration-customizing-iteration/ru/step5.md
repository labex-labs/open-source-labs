# Упражнение 6.6: Использование генератора для генерации данных

Если вы посмотрите на код в упражнении 6.5, то в первой части кода генерируются строки данных, а в конце цикла `while` выполняются инструкции по обработке этих данных. Основная особенность генераторных функций заключается в том, что вы можете перенести весь код по генерации данных в повторно используемую функцию.

Измените код в упражнении 6.5 так, чтобы чтение файла выполнялось с помощью генераторной функции `follow(filename)`. Дополните код так, чтобы он работал следующим образом:

```python
>>> for line in follow('stocklog.csv'):
          print(line, end='')

... Здесь должны появиться строки вывода...
```

Измените код тикера фондовых цен так, чтобы он выглядел следующим образом:

```python
if __name__ == '__main__':
    for line in follow('stocklog.csv'):
        fields = line.split(',')
        name = fields[0].strip('"')
        price = float(fields[1])
        change = float(fields[4])
        if change < 0:
            print(f'{name:>10s} {price:>10.2f} {change:>10.2f}')
```
