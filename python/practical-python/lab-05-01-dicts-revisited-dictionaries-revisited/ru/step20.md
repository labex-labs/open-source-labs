# Упражнение 5.3: Роль классов

Определения, составляющие определение класса, общие для всех экземпляров этого класса. Обратите внимание, что все экземпляры имеют ссылку на их связанный класс:

```python
>>> goog.__class__
... посмотрите на вывод...
>>> ibm.__class__
... посмотрите на вывод...
>>>
```

Попробуйте вызвать метод для экземпляров:

```python
>>> goog.cost()
49010.0
>>> ibm.cost()
4561.5
>>>
```

Заметим, что имя 'cost' не определено ни в `goog.__dict__`, ни в `ibm.__dict__`. Вместо этого оно предоставляется словарем класса. Попробуйте это:

```python
>>> Stock.__dict__['cost']
... посмотрите на вывод...
>>>
```

Попробуйте вызвать метод `cost()` напрямую через словарь:

```python
>>> Stock.__dict__['cost'](goog)
49010.0
>>> Stock.__dict__['cost'](ibm)
4561.5
>>>
```

Заметим, как вы вызываете функцию, определенную в определении класса, и как аргумент `self` получает экземпляр.

Попробуйте добавить новый атрибут в класс `Stock`:

```python
>>> Stock.foo = 42
>>>
```

Заметим, как этот новый атрибут теперь появляется у всех экземпляров:

```python
>>> goog.foo
42
>>> ibm.foo
42
>>>
```

Однако, заметим, что он не является частью словаря экземпляра:

```python
>>> goog.__dict__
... посмотрите на вывод и заметьте, что нет атрибута 'foo'...
>>>
```

Причина, по которой вы можете получить доступ к атрибуту `foo` у экземпляров, заключается в том, что Python всегда проверяет словарь класса, если он не может найти что-то у самого экземпляра.

Примечание: Эта часть упражнения иллюстрирует то, что известно как классная переменная. Предположим, например, у вас есть класс такого вида:

```python
class Foo(object):
     a = 13                  # Классная переменная
     def __init__(self,b):
         self.b = b          # Экземплярная переменная
```

В этом классе переменная `a`, присвоенная в теле класса самой, является "классной переменной". Она общая для всех созданных экземпляров. Например:

```python
>>> f = Foo(10)
>>> g = Foo(20)
>>> f.a          # Проверьте классную переменную (одинаковая для обоих экземпляров)
13
>>> g.a
13
>>> f.b          # Проверьте экземплярную переменную (отличается)
10
>>> g.b
20
>>> Foo.a = 42   # Измените значение классной переменной
>>> f.a
42
>>> g.a
42
>>>
```
