# Выражения-генераторы

Генераторная версия списочного выражения.

```python
>>> a = [1,2,3,4]
>>> b = (2*x for x in a)
>>> b
<generator object at 0x58760>
>>> for i in b:
...   print(i, end=' ')
...
2 4 6 8
>>>
```

Различия от списочных выражений.

- Не строит список.
- Единственная полезная цель - итерация.
- После использования нельзя переиспользовать.

Общая синтаксис.

```python
(<expression> for i in s if <conditional>)
```

Он также может служить аргументом функции.

```python
sum(x*x for x in a)
```

Может быть применен к любому итерируемому объекту.

```python
>>> a = [1,2,3,4]
>>> b = (x*x for x in a)
>>> c = (-x for x in b)
>>> for i in c:
...   print(i, end=' ')
...
-1 -4 -9 -16
>>>
```

Основное применение выражений-генераторов - в коде, который выполняет некоторые вычисления над последовательностью, но использует результат только один раз. Например, удалить все комментарии из файла.

```python
f = open('somefile.txt')
lines = (line for line in f if not line.startswith('#'))
for line in lines:
  ...
f.close()
```

С использованием генераторов код работает быстрее и использует мало памяти. Это похоже на фильтр, применяемый к потоку.
