# @ Привязки

Оператор _at_ (`@`) позволяет нам создать переменную, которая хранит значение в то же время, когда мы проверяем это значение на соответствие шаблону. В листинге 18 - 29 мы хотим проверить, что поле `id` в варианте `Message::Hello` находится в диапазоне `3..=7`. Мы также хотим связать это значение с переменной `id_variable`, чтобы использовать ее в коде, связанном с этой веткой. Мы могли бы назвать эту переменную `id`, так же как и поле, но в этом примере мы используем другое имя.

Имя файла: `src/main.rs`

```rust
enum Message {
    Hello { id: i32 },
}

let msg = Message::Hello { id: 5 };

match msg {
    Message::Hello {
        id: id_variable @ 3..=7,
    } => println!("Found an id in range: {id_variable}"),
    Message::Hello { id: 10..=12 } => {
        println!("Found an id in another range")
    }
    Message::Hello { id } => println!("Some other id: {id}"),
}
```

Листинг 18 - 29: Использование `@` для связывания значения в шаблоне при одновременной проверке

В этом примере будет напечатано `Found an id in range: 5`. Указав `id_variable @` перед диапазоном `3..=7`, мы захватываем любое значение, которое соответствует диапазону, и одновременно проверяем, что значение соответствует шаблону диапазона.

Во второй ветке, где в шаблоне указан только диапазон, код, связанный с этой веткой, не имеет переменной, содержащей фактическое значение поля `id`. Значение поля `id` могло быть 10, 11 или 12, но код, связанный с этим шаблоном, не знает, какое именно. Код шаблона не может использовать значение поля `id`, так как мы не сохранили значение `id` в переменной.

В последней ветке, где мы указали переменную без диапазона, у нас есть доступ к значению в коде этой ветки в переменной с именем `id`. Причина в том, что мы использовали сокращенную запись для полей структуры. Но в этой ветке мы не применили никаких проверок к значению поля `id`, как это было в первых двух ветках: любое значение будет соответствовать этому шаблону.

Использование `@` позволяет нам проверить значение и сохранить его в переменной в рамках одного шаблона.
