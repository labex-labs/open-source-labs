# アンダースコアで始めることで未使用の変数を作成する

もし、変数を作成したがどこでも使用しない場合、Rustは通常警告を発行します。なぜなら、未使用の変数はバグの原因になる可能性があるからです。しかし、時にはまだ使用しない変数を作成できることが便利です。たとえば、プロトタイピング中や、ただプロジェクトを始めたときです。このような状況では、変数の名前をアンダースコアで始めることで、Rustに未使用の変数に関する警告を表示しないように指示できます。リスト18-20では、2つの未使用の変数を作成していますが、このコードをコンパイルするとき、それらのうちの1つに関する警告のみが表示されるはずです。

ファイル名: `src/main.rs`

```rust
fn main() {
    let _x = 5;
    let y = 10;
}
```

リスト18-20: 未使用の変数に関する警告を回避するために、変数名をアンダースコアで始める

ここでは、変数 `y` を使用していないことに関する警告が表示されますが、`_x` を使用していないことに関する警告は表示されません。

ただの `_` を使用する場合と、アンダースコアで始まる名前を使用する場合には、微妙な違いがあることに注意してください。構文 `_x` は依然として値を変数にバインドしますが、`_` はまったくバインドしません。この違いが重要になるケースを示すために、リスト18-21ではエラーが発生します。

ファイル名: `src/main.rs`

```rust
let s = Some(String::from("Hello!"));

if let Some(_s) = s {
    println!("found a string");
}

println!("{:?}", s);
```

リスト18-21: アンダースコアで始まる未使用の変数は依然として値をバインドし、それが値の所有権を取得する可能性があります。

`s` の値が `_s` に移動されるため、再度 `s` を使用できなくなるため、エラーが表示されます。ただし、単独でアンダースコアを使用すると、値にバインドされることはありません。リスト18-22は、`s` が `_` に移動されないため、エラーなくコンパイルされます。

ファイル名: `src/main.rs`

```rust
let s = Some(String::from("Hello!"));

if let Some(_) = s {
    println!("found a string");
}

println!("{:?}", s);
```

リスト18-22: アンダースコアを使用すると、値がバインドされません。

このコードは問題なく動作します。なぜなら、`s` を何にもバインドしていないからです。つまり、移動されていません。