# アンダースコアで始まる名前の未使用変数

変数を作成したが、どこでもその変数を使用しない場合、Rust は通常警告を発行します。なぜなら、未使用の変数はバグの原因になる可能性があるからです。ただし、プロトタイピングやプロジェクトの開始時など、まだ使用しない変数を作成することが役立つ場合もあります。このような状況では、変数名をアンダースコアで始めることで、Rust に未使用変数に関する警告を出さないように指示することができます。リスト 18 - 20 では、2 つの未使用変数を作成していますが、このコードをコンパイルすると、片方の変数に関する警告のみが表示されます。

ファイル名：`src/main.rs`

```rust
fn main() {
    let _x = 5;
    let y = 10;
}
```

リスト 18 - 20: 未使用変数の警告を回避するために変数名をアンダースコアで始める

ここでは、変数 `y` を使用していないという警告が表示されますが、`_x` を使用していないという警告は表示されません。

ただ、単に `_` を使用する場合とアンダースコアで始まる名前を使用する場合には微妙な違いがあります。構文 `_x` は依然として値を変数に束縛しますが、`_` はまったく束縛しません。この違いが重要になるケースを示すために、リスト 18 - 21 ではエラーが発生します。

ファイル名：`src/main.rs`

```rust
let s = Some(String::from("Hello!"));

if let Some(_s) = s {
    println!("found a string");
}

println!("{:?}", s);
```

リスト 18 - 21: アンダースコアで始まる未使用変数は依然として値を束縛し、所有権を奪う可能性がある

`s` の値は `_s` にムーブされるため、`s` を再度使用できなくなり、エラーが発生します。ただし、単にアンダースコアを使用する場合は、値を束縛することはありません。リスト 18 - 22 は、`s` が `_` にムーブされないため、エラーなくコンパイルされます。

ファイル名：`src/main.rs`

```rust
let s = Some(String::from("Hello!"));

if let Some(_) = s {
    println!("found a string");
}

println!("{:?}", s);
```

リスト 18 - 22: アンダースコアを使用すると値は束縛されない

このコードは問題なく動作します。なぜなら、`s` を何にも束縛しておらず、ムーブされていないからです。
