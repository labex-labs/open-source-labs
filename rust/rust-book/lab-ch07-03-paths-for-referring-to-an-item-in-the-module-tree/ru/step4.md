# Делаем структуры и перечисления публичными

Мы также можем использовать `pub`, чтобы объявить структуры и перечисления публичными, но при использовании `pub` с структурами и перечислениями есть несколько дополнительных деталей. Если мы используем `pub` перед определением структуры, мы делаем структуру публичной, но поля структуры по-прежнему будут приватными. Мы можем сделать каждое поле публичным или нет в зависимости от обстоятельств. В Listing 7-9 мы определили публичную структуру `back_of_house::Breakfast` с публичным полем `toast`, но приватным полем `seasonal_fruit`. Это моделирует ситуацию в ресторане, когда клиент может выбрать тип хлеба, который подается с едой, но повар решает, какой фрукт будет сопровождать еду, исходя из того, что в сезон и в наличии. Доступные виды фруктов меняются быстро, поэтому клиенты не могут выбрать фрукт или даже увидеть, какой фрукт они получат.

Имя файла: `src/lib.rs`

```rust
mod back_of_house {
    pub struct Breakfast {
        pub toast: String,
        seasonal_fruit: String,
    }

    impl Breakfast {
        pub fn summer(toast: &str) -> Breakfast {
            Breakfast {
                toast: String::from(toast),
                seasonal_fruit: String::from("peaches"),
            }
        }
    }
}

pub fn eat_at_restaurant() {
    // Закажите завтрак летом с ржаным хлебом
    let mut meal = back_of_house::Breakfast::summer("Rye");
    // Изменим решение о типе хлеба
    meal.toast = String::from("Wheat");
    println!("Я бы хотел {} хлеба, пожалуйста", meal.toast);

    // Следующая строка не скомпилируется, если мы раскомментируем ее; мы не
    // имеем права видеть или изменять сезонный фрукт, который приходит
    // с едой
    // meal.seasonal_fruit = String::from("blueberries");
}
```

Listing 7-9: Структура с некоторыми публичными и некоторыми приватными полями

Поскольку поле `toast` в структуре `back_of_house::Breakfast` является публичным, в `eat_at_restaurant` мы можем читать и записывать в поле `toast` с использованием точки. Обратите внимание, что мы не можем использовать поле `seasonal_fruit` в `eat_at_restaurant`, потому что `seasonal_fruit` является приватным. Попробуйте раскомментировать строку, которая изменяет значение поля `seasonal_fruit`, чтобы увидеть, какую ошибку вы получите!

Также обратите внимание, что поскольку `back_of_house::Breakfast` имеет приватное поле, структура должна предоставить публичную ассоциированную функцию, которая создает экземпляр `Breakfast` (мы назвали ее `summer` здесь). Если `Breakfast` не имела такой функции, мы не могли бы создать экземпляр `Breakfast` в `eat_at_restaurant`, потому что не могли бы установить значение приватного поля `seasonal_fruit` в `eat_at_restaurant`.

В отличие от этого, если мы делаем перечисление публичным, все его варианты становятся публичными. Мы нуждаемся только в `pub` перед ключевым словом `enum`, как показано в Listing 7-10.

Имя файла: `src/lib.rs`

```rust
mod back_of_house {
    pub enum Appetizer {
        Soup,
        Salad,
    }
}

pub fn eat_at_restaurant() {
    let order1 = back_of_house::Appetizer::Soup;
    let order2 = back_of_house::Appetizer::Salad;
}
```

Listing 7-10: Назначение перечисления как публичного делает все его варианты публичными.

Поскольку мы сделали перечисление `Appetizer` публичным, мы можем использовать варианты `Soup` и `Salad` в `eat_at_restaurant`.

Перечисления не очень полезны, если их варианты не являются публичными; было бы раздражающим каждый раз аннотировать все варианты перечисления с `pub`, поэтому по умолчанию варианты перечислений являются публичными. Структуры часто полезны без публичности их полей, поэтому поля структур следуют общему правилу: все по умолчанию приватно, если не аннотировано с `pub`.

Есть еще одна ситуация, связанная с `pub`, которую мы не рассмотрели, и это наша последняя особенность модульной системы: ключевое слово `use`. Мы сначала рассмотрим `use` сам по себе, а затем покажем, как комбинировать `pub` и `use`.
