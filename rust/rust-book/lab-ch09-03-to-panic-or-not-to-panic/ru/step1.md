# To panic or Not to panic

Итак, как вы решаете, когда следует вызывать `panic!`, а когда возвращать `Result`? Когда код вызывает панику, восстановиться невозможно. Вы можете вызвать `panic!` для любой ситуации с ошибкой, независимо от того, есть ли возможный способ восстановиться или нет, но тогда вы принимаете решение о том, что ситуация не восстанавлима от имени вызывающего кода. Когда вы выбираете вернуть значение `Result`, вы даете вызывающему коду варианты. Вызывающий код может выбрать попытаться восстановиться способом, подходящим для его ситуации, или он может решить, что значение `Err` в этом случае не восстанавлимо, поэтому он может вызвать `panic!` и превратить вашу восстанавливаемую ошибку в невозвратимую. Поэтому возвращение `Result` является хорошим стандартным выбором, когда вы определяете функцию, которая может завершиться с ошибкой.

В ситуациях, таких как примеры, прототипный код и тесты, более подходящим является написание кода, вызывающего панику, вместо возвращения `Result`. Давайте выясним, почему, а затем обсудим ситуации, когда компилятор не может понять, что ошибка невозможна, но вы, как человек, можете. Глава завершится некоторыми общими рекомендациями о том, как решить, следует ли вызывать панику в библиотечном коде.
