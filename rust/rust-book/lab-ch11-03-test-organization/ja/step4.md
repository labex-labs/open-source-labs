# プライベート関数のテスト

プライベート関数を直接テストするべきかどうかについて、テストコミュニティ内では議論があり、他の言語ではプライベート関数をテストすることが困難または不可能になっています。どのテスト思想に従うかに関係なく、Rust のプライバシールールはプライベート関数をテストすることを許可しています。リスト 11-12 のコードを見てみましょう。ここでは、プライベート関数 `internal_adder` があります。

ファイル名：`src/lib.rs`

```rust
pub fn add_two(a: i32) -> i32 {
    internal_adder(a, 2)
}

fn internal_adder(a: i32, b: i32) -> i32 {
    a + b
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn internal() {
        assert_eq!(4, internal_adder(2, 2));
    }
}
```

リスト 11-12: プライベート関数のテスト

`internal_adder` 関数は `pub` ではないことに注意してください。テストはただの Rust コードであり、`tests` モジュールはただの別のモジュールです。「モジュールツリー内の項目を参照するためのパス」で説明したように、子モジュール内の項目はその親モジュール内の項目を使用できます。このテストでは、`use super::*` によって `test` モジュールの親のすべての項目をスコープに入れ、その後テストでは `internal_adder` を呼び出すことができます。もしプライベート関数をテストするべきでないと考えている場合は、Rust にはそれを強制するものはありません。
