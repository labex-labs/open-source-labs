# 속성 유사 (Attribute-like) 매크로

속성 유사 매크로는 사용자 정의 `derive` 매크로와 유사하지만, `derive` 속성에 대한 코드를 생성하는 대신 새로운 속성을 생성할 수 있습니다. 또한 더 유연합니다. `derive`는 구조체와 열거형에 대해서만 작동합니다. 속성은 함수와 같은 다른 항목에도 적용할 수 있습니다. 다음은 속성 유사 매크로를 사용하는 예입니다. 웹 애플리케이션 프레임워크를 사용할 때 함수에 주석을 다는 `route`라는 속성이 있다고 가정해 보겠습니다.

```rust
#[route(GET, "/")]
fn index() {
```

이 `#[route]` 속성은 프레임워크에 의해 절차적 매크로로 정의됩니다. 매크로 정의 함수의 시그니처는 다음과 같습니다.

    #[proc_macro_attribute]
    pub fn route(
        attr: TokenStream,
        item: TokenStream
    ) -> TokenStream {

여기에는 `TokenStream` 타입의 두 개의 매개변수가 있습니다. 첫 번째는 속성의 내용, 즉 `GET, "/"` 부분입니다. 두 번째는 속성이 첨부된 항목의 본문입니다. 이 경우 `fn index() {}`와 함수의 나머지 본문입니다.

그 외에는 속성 유사 매크로는 사용자 정의 `derive` 매크로와 동일한 방식으로 작동합니다. `proc-macro` 크레이트 유형으로 크레이트를 생성하고 원하는 코드를 생성하는 함수를 구현합니다!
