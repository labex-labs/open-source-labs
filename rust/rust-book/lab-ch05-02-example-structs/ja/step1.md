# 構造体を使ったサンプルプログラム

構造体を使う場合があることを理解するために、長方形の面積を計算するプログラムを書いてみましょう。最初は単一の変数を使って始め、その後、構造体を使うようにプログラムをリファクタリングしていきます。

Cargoを使って、ピクセル単位で指定された長方形の幅と高さを受け取り、その長方形の面積を計算する新しいバイナリプロジェクト「_rectangles_」を作成しましょう。リスト5-8は、プロジェクトの`src/main.rs`におけるそのような方法の1つを示す短いプログラムです。

ファイル名: `src/main.rs`

```rust
fn main() {
    let width1 = 30;
    let height1 = 50;

    println!(
        "The area of the rectangle is {} square pixels.",
        area(width1, height1)
    );
}

fn area(width: u32, height: u32) -> u32 {
    width * height
}
```

リスト5-8: 幅と高さの別々の変数で指定された長方形の面積を計算する

次に、`cargo run`を使ってこのプログラムを実行します。

```rust
The area of the rectangle is 1500 square pixels.
```

このコードは、各寸法を`area`関数に渡すことで長方形の面積を算出することに成功していますが、このコードをもっと明確で読みやすくするためにはもっと何かをすることができます。

このコードの問題は、`area`のシグネチャに明らかです。

```rust
fn area(width: u32, height: u32) -> u32 {
```

`area`関数は1つの長方形の面積を計算するはずですが、書いた関数は2つのパラメータを持ち、プログラム内のどこにもパラメータが関連していることが明確ではありません。幅と高さをまとめることで、もっと読みやすく管理しやすくなります。すでに「タプル型」でその方法の1つについて議論しています: タプルを使うことでです。
