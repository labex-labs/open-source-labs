# ミューテックスを使って一度に 1 つのスレッドからのデータアクセスを許可する

「Mutex」は「相互排他」（mutual exclusion）の略で、ミューテックスは任意の時点で 1 つのスレッドだけが特定のデータにアクセスできるようにします。ミューテックス内のデータにアクセスするには、まずスレッドはミューテックスの「ロック」を取得するように要求することでアクセスを希望することを信号で知らせる必要があります。ロックは、現在誰がデータに排他的なアクセスを持っているかを追跡するミューテックスの一部であるデータ構造です。したがって、ミューテックスはロッキングシステムを介して保持するデータを「保護」していると言われています。

ミューテックスは使いにくいと評判が悪いのですが、2 つのルールを覚えておかなければならないからです：

1. データを使用する前にロックを取得しようとしなければなりません。
2. ミューテックスが保護するデータを使い終えたら、データをアンロックして他のスレッドがロックを取得できるようにしなければなりません。

ミューテックスの現実世界的なメタファーとして、1 つのマイクしかない会議のパネルディスカッションを想像してみてください。パネリストが話す前には、マイクを使いたいことを申し出たり信号を送ったりしなければなりません。マイクを手に入れると、好きなだけ話すことができ、その後、話したいと要求する次のパネリストにマイクを渡すことができます。パネリストが話し終えたらマイクを渡すのを忘れてしまうと、他の誰も話すことができません。共有マイクの管理がうまくいかなければ、パネルは計画通りに機能しません！

ミューテックスの管理は正しく行うのが非常に難しいことがあります。これが、多くの人がチャネルに熱心な理由です。しかし、Rust の型システムと所有権ルールのおかげで、ロックの取得と解放を間違えることはありません。
