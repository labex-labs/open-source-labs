# 役立つドキュメントコメントの作成

あなたのパッケージを正確に文書化することは、他のユーザーがそれをどのように、いつ使用するかを知るのに役立ちますので、文書を書くための時間を投資する価値があります。第 3 章では、2 つのスラッシュ `//` を使って Rust コードにコメントを付ける方法について説明しました。Rust には、HTML ドキュメントを生成する、便利にも _ドキュメントコメント_ と呼ばれる特定の種類のコメントもあります。この HTML は、あなたのクレートがどのように _実装_ されているかではなく、どのように _使用_ するかを知りたいプログラマーに向けたパブリック API 項目のドキュメントコメントの内容を表示します。

ドキュメントコメントでは、2 つの代わりに 3 つのスラッシュ `///` を使用し、Markdown 表記をサポートしてテキストをフォーマットします。ドキュメントコメントは、それが文書化する項目の直前に配置します。リスト 14-1 は、`my_crate` というクレート内の `add_one` 関数のドキュメントコメントを示しています。

ファイル名：`src/lib.rs`

````rust
/// Adds one to the number given.
///
/// # Examples
///
/// ```
/// let arg = 5;
/// let answer = my_crate::add_one(arg);
///
/// assert_eq!(6, answer);
/// ```rust
pub fn add_one(x: i32) -> i32 {
    x + 1
}
````

リスト 14-1: 関数のドキュメントコメント

ここでは、`add_one` 関数が何をするかの説明を与え、`Examples` という見出しのセクションを始め、その後、`add_one` 関数をどのように使用するかを示すコードを提供しています。このドキュメントコメントから HTML ドキュメントを生成するには、`cargo doc` を実行します。このコマンドは、Rust に付属する `rustdoc` ツールを実行し、生成された HTML ドキュメントを `target/doc` ディレクトリに置きます。

便利なことに、`cargo doc --open` を実行すると、現在のクレートのドキュメント（およびクレートのすべての依存関係のドキュメント）の HTML を生成し、結果をウェブブラウザで開きます。`add_one` 関数に移動すると、ドキュメントコメントのテキストがどのようにレンダリングされるかを確認できます。図 14-1 を参照してください。

図 14-1: `add_one` 関数の HTML ドキュメント
