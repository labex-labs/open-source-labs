# テストとしてのドキュメントコメント

ドキュメントコメントにサンプルコードブロックを追加することで、ライブラリの使い方を示すことができます。そして、これには追加の特典があります。`cargo test` を実行すると、ドキュメント内のコード例がテストとして実行されます！例を含んだドキュメントより良いものはありません。しかし、ドキュメント作成以降にコードが変更されたために動作しない例ほど悪いものはありません。リスト 14-1 の `add_one` 関数のドキュメントを使って `cargo test` を実行すると、テスト結果に次のようなセクションが表示されます。

```rust
   Doc-tests my_crate

running 1 test
test src/lib.rs - add_one (line 5)... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0
filtered out; finished in 0.27s
```

次に、関数または例を変更して、例の中の `assert_eq!` がパニックするようにして、再度 `cargo test` を実行すると、ドキュメントテストが例とコードが同期していないことを検出することがわかります！
