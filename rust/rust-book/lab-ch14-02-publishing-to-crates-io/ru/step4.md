# Комментарии документации как тесты

Добавление блоков примерного кода в комментарии документации может помочь продемонстрировать, как использовать вашу библиотеку, и сделать это имеет дополнительный бонус: запуск `cargo test` запустит примеры кода в вашей документации в качестве тестов! Ничего лучше, чем документация с примерами. Но ничего хуже, чем примеры, которые не работают, потому что код изменился с тех пор, как была написана документация. Если мы запустим `cargo test` с документацией для функции `add_one` из Списка 14-1, мы увидим раздел в результатах тестирования, который выглядит так:

```rust
   Doc-tests my_crate

running 1 test
test src/lib.rs - add_one (line 5)... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0
filtered out; finished in 0.27s
```

Теперь, если мы изменим функцию или пример так, чтобы `assert_eq!` в примере переполнился и снова запустим `cargo test`, мы увидим, что тесты документации поймут, что пример и код не синхронизированы друг с другом!
