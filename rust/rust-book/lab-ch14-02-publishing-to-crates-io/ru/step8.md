# Добавление метаданных в новую коробку

Предположим, у вас есть коробка, которую вы хотите опубликовать. Перед публикацией вам нужно добавить некоторую метадату в раздел `[package]` файла `Cargo.toml` вашей коробки.

Ваша коробка должна иметь уникальное имя. Во время локальной работы над коробкой вы можете назвать ее как угодно. Однако имена коробок на *https://crates.io* распределяются по принципу "первым пришел - первым served". Как только имя коробки занято, никто другой не может опубликовать коробку с таким именем. Перед попыткой опубликовать коробку, поищите имя, которое вы хотите использовать. Если имя уже используется, вам нужно найти другое имя и отредактировать поле `name` в файле `Cargo.toml` в разделе `[package]`, чтобы использовать новое имя для публикации, вот так:

Имя файла: `Cargo.toml`

```tomlrust
[package]
name = "guessing_game"
```

Даже если вы выбрали уникальное имя, когда вы запустите `cargo publish`, чтобы опубликовать коробку в этот момент, вы получите предупреждение, а затем ошибку:

```bash
$ cargo publish
    Updating crates.io index
warning: manifest has no description, license, license-file, documentation,
homepage or repository.
See https://doc.rust-lang.org/cargo/reference/manifest.html#package-metadata
for more info.
--snip--
error: failed to publish to registry at https://crates.io

Caused by:
  the remote server responded with an error: missing or empty metadata fields:
description, license. Please see https://doc.rust-
lang.org/cargo/reference/manifest.html for how to upload metadata
```

Это приводит к ошибке, потому что у вас отсутствуют некоторые важные сведения: требуется описание и лицензия, чтобы люди знали, что делает ваша коробка и по каким условиям они могут ее использовать. В `Cargo.toml` добавьте описание, состоящее из одного или двух предложений, потому что оно будет отображаться с вашей коробкой в результатах поиска. Для поля `license` вам нужно указать _значение идентификатора лицензии_. Программа обмена данными пакетов ПО (SPDX) Linux Foundation на *http://spdx.org/licenses* перечисляет идентификаторы, которые вы можете использовать для этого значения. Например, чтобы указать, что вы лицензировали свою коробку по лицензии MIT, добавьте идентификатор `MIT`:

Имя файла: `Cargo.toml`

```toml
[package]
name = "guessing_game"
license = "MIT"
```

Если вы хотите использовать лицензию, которая не отображается в SPDX, вам нужно поместить текст этой лицензии в файл, включить файл в свой проект, а затем использовать `license-file`, чтобы указать имя этого файла вместо использования ключа `license`.

Рекомендации о том, какую лицензию выбрать для вашего проекта, выходят за рамки этой книги. Многие люди в сообществе Rust лицензируют свои проекты так же, как и Rust, используя двойную лицензию `MIT OR Apache-2.0`. Эта практика показывает, что вы также можете указать несколько идентификаторов лицензий, разделенных `OR`, чтобы иметь несколько лицензий для вашего проекта.

С уникальным именем, версией, описанием и лицензией, файл `Cargo.toml` для проекта, готового к публикации, может выглядеть так:

Имя файла: `Cargo.toml`

```toml
[package]
name = "guessing_game"
version = "0.1.0"
edition = "2021"
description = "A fun game where you guess what number the
computer has chosen."
license = "MIT OR Apache-2.0"

[dependencies]
```

Документация Cargo на *https://doc.rust-lang.org/cargo* описывает другие метаданные, которые вы можете указать, чтобы обеспечить более простое обнаружение и использование вашей коробки другими.
