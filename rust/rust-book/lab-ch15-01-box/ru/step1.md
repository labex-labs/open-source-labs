# Использование Box`<T>` для указания на данные в куче

Самый простой умный указатель - это _коробка_ (box), чей тип записывается как `Box<T>`. Коробки позволяют хранить данные в куче, а не на стеке. Что остается на стеке - это указатель на данные в куче. См. главу 4, чтобы освежить разницу между стеком и кучей.

Коробки не имеют накладных расходов на производительность, кроме хранения своих данных в куче вместо стека. Но они также не обладают многими дополнительными возможностями. Вы будете их чаще всего использовать в таких ситуациях:

- Когда у вас есть тип, размер которого не может быть известен на этапе компиляции, и вы хотите использовать значение этого типа в контексте, требующем точного размера
- Когда у вас есть大量 данных и вы хотите передать владение, но убедиться, что данные не будут скопированы при этом
- Когда вы хотите владеть значением и вас интересует только то, что это тип, реализующий определенный трейт, а не конкретный тип

Мы покажем первую ситуацию в разделе "Возможность рекурсивных типов с использованием коробок". Во втором случае передача владения большими объемами данных может занять много времени, потому что данные копируются по стеку. Чтобы повысить производительность в такой ситуации, мы можем хранить большие объемы данных в куче в коробке. Затем только небольшие объемы указательских данных копируются по стеку, в то время как данные, на которые они ссылаются, остаются в одном месте в куче. Третья ситуация известна как _объект трейта_ (trait object), и раздел "Использование объектов трейтов, которые допускают значения разных типов" посвящен этой теме. Поэтому то, что вы здесь узнаете, вы снова примете в этом разделе!
