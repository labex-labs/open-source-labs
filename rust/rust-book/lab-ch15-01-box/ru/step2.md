# Использование Box`<T>`{=html} для хранения данных в куче

Прежде чем мы обсудим сценарий хранения данных в куче для `Box<T>`, рассмотрим синтаксис и способы взаимодействия с значениями, хранящимися внутри `Box<T>`.

Листинг 15-1 показывает, как использовать коробку для хранения значения `i32` в куче.

Имя файла: `src/main.rs`

```rust
fn main() {
    let b = Box::new(5);
    println!("b = {b}");
}
```

Листинг 15-1: Хранение значения `i32` в куче с использованием коробки

Мы определяем переменную `b` с значением `Box`, которая указывает на значение `5`, которое выделяется в куче. Эта программа выведет `b = 5`; в этом случае мы можем получить доступ к данным в коробке так же, как будто бы эти данные были на стеке. Как и любое собственное значение, когда коробка выходит из области видимости, как это происходит с `b` в конце `main`, она будет освобождена. Освобождение происходит как для коробки (хранящейся на стеке), так и для данных, на которые она ссылается (хранящихся в куче).

Разместить одно значение в куче не очень полезно, поэтому вы не будете часто использовать коробки именно таким образом. Хранить значения, такие как одиночное `i32`, на стеке, где они хранятся по умолчанию, более подходяще в большинстве ситуаций. Рассмотрим случай, когда коробки позволяют нам определить типы, которые мы бы не могли определить, если бы не имели коробок.
