# Box`<T>` を使ってヒープ上にデータを格納する方法

`Box<T>` のヒープ格納のユースケースを説明する前に、構文と `Box<T>` に格納された値とのやり取り方法について説明します。

リスト 15-1 は、ボックスを使って `i32` 値をヒープ上に格納する方法を示しています。

ファイル名：`src/main.rs`

```rust
fn main() {
    let b = Box::new(5);
    println!("b = {b}");
}
```

リスト 15-1: ボックスを使って `i32` 値をヒープ上に格納する

変数 `b` を定義して、値 `5` を指す `Box` の値を持たせます。この値はヒープ上に割り当てられます。このプログラムは `b = 5` を出力します。この場合、このデータがスタック上にある場合と同じように、ボックス内のデータにアクセスできます。他の所有値と同様に、ボックスがスコープ外になると、ここでは `main` の末尾で `b` がそうなると、ボックスとそれが指すデータ（ヒープ上に格納されている）が解放されます。

単一の値をヒープ上に置くことはあまり役に立たないので、このように単独でボックスを使うことはあまりありません。デフォルトでスタック上に格納される単一の `i32` のような値は、ほとんどの場合により適切です。ボックスがなければ定義できない型を定義できるケースを見てみましょう。
