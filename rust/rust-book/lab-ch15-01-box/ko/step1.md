# Box`<T>`를 사용하여 힙의 데이터를 가리키는 방법

가장 간단한 스마트 포인터는 *box*이며, 타입은 `Box<T>`로 표기합니다. Box 를 사용하면 스택 대신 힙에 데이터를 저장할 수 있습니다. 스택에 남는 것은 힙 데이터에 대한 포인터입니다. 스택과 힙의 차이점에 대해서는 4 장을 참조하십시오.

Box 는 스택 대신 힙에 데이터를 저장하는 것 외에는 성능 오버헤드가 없습니다. 하지만 특별한 기능도 많지 않습니다. 다음 상황에서 가장 자주 사용하게 됩니다.

- 컴파일 시간에 크기를 알 수 없는 타입을 가지고 있고, 정확한 크기가 필요한 컨텍스트에서 해당 타입의 값을 사용하려는 경우
- 대량의 데이터를 가지고 있고 소유권을 이전하려 하지만, 그렇게 할 때 데이터가 복사되지 않도록 하려는 경우
- 값을 소유하고 있고, 특정 타입이 아닌 특정 트레이트 (trait) 를 구현하는 타입인지 여부만 신경 쓰는 경우

"Box 를 사용하여 재귀적 타입 활성화"에서 첫 번째 상황을 시연할 것입니다. 두 번째 경우, 대량의 데이터 소유권을 이전하는 데 시간이 오래 걸릴 수 있는데, 이는 데이터가 스택에서 복사되기 때문입니다. 이 상황에서 성능을 향상시키기 위해, 힙에 있는 box 에 대량의 데이터를 저장할 수 있습니다. 그러면 작은 양의 포인터 데이터만 스택에서 복사되고, 참조하는 데이터는 힙의 한 위치에 유지됩니다. 세 번째 경우는 *트레이트 객체 (trait object)*라고 하며, "다양한 타입의 값을 허용하는 트레이트 객체 사용"에서 해당 주제를 다룹니다. 따라서 여기서 배우는 내용은 해당 섹션에서도 다시 적용할 수 있습니다!
