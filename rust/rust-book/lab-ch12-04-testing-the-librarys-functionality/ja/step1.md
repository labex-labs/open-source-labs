# テスト駆動開発

これで、論理を`src/lib.rs`に抽出し、引数の収集とエラー処理を`src/main.rs`に残したので、コードのコア機能のテストを書くのがはるかに簡単になりました。コマンドラインからバイナリを呼び出す必要なく、さまざまな引数で関数を直接呼び出し、戻り値をチェックすることができます。

このセクションでは、テスト駆動開発（TDD）プロセスを使って、`minigrep`プログラムに検索ロジックを追加します。以下の手順で行います。

1. 失敗するテストを書き、それが期待通りに失敗することを確認するために実行します。
2. 新しいテストが通過するように、必要なだけのコードを書き加えるか修正します。
3. 追加または変更したコードをリファクタリングし、テストが引き続き通過することを確認します。
4. 手順 1 から繰り返します！

TDD はソフトウェアを書くための多くの方法の 1 つにすぎませんが、コードの設計を促進する役に立ちます。テストを通過させるコードを書く前にテストを書くことは、プロセス全体を通じて高いテストカバレッジを維持するのに役立ちます。

ファイルの内容からクエリ文字列を検索し、一致する行のリストを生成する機能の実装をテスト駆動で行います。この機能を`search`と呼ばれる関数に追加します。
