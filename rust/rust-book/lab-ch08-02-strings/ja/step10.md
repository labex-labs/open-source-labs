# 文字列をスライスする

文字列に対してインデックス付けを行うことは、多くの場合、良い考えではありません。なぜなら、文字列のインデックス付け操作の戻り値の型が何であるべきかが明確ではないからです。バイト値、文字、文字素クラスタ、または文字列スライスのいずれかです。したがって、本当にインデックスを使って文字列スライスを作成する必要がある場合は、Rustはもっと具体的にするよう求めます。

単一の数値を使って `[]` でインデックス付けする代わりに、範囲を使って `[]` を使うことができます。これにより、特定のバイトを含む文字列スライスを作成できます。

```rust
let hello = "Здравствуйте";

let s = &hello[0..4];
```

ここで、`s` は文字列の最初の4バイトを含む `&str` になります。先ほど、これらの文字のそれぞれが2バイトであることを述べました。これは、`s` が `Зд` になることを意味します。

もし `&hello[0..1]` のように、文字のバイトの一部のみをスライスしようとすると、Rustはランタイムでパニックになります。ベクトルで無効なインデックスにアクセスした場合と同じようにです。

```rust
thread 'main' panicked at 'byte index 1 is not a char boundary;
it is inside 'З' (bytes 0..2) of `Здравствуйте`', src/main.rs:4:14
```

範囲を使って文字列スライスを作成する際には注意が必要です。なぜなら、そうするとプログラムがクラッシュする可能性があるからです。
