# Catch-all 패턴과 \_ 플레이스홀더

enum 을 사용하면 몇 가지 특정 값에 대해 특별한 작업을 수행할 수 있지만, 다른 모든 값에 대해 하나의 기본 작업을 수행할 수도 있습니다. 주사위를 굴렸을 때 3 이 나오면 플레이어가 움직이지 않고 대신 멋진 새 모자를 얻는 게임을 구현한다고 상상해 보십시오. 7 이 나오면 플레이어는 멋진 모자를 잃습니다. 다른 모든 값에 대해 플레이어는 게임 보드에서 해당 숫자만큼 칸을 이동합니다. 다음은 주사위 굴림의 결과를 하드코딩하고, 실제로 구현하는 것은 이 예제의 범위를 벗어나므로 본문이 없는 함수로 모든 다른 로직을 나타내는, 해당 로직을 구현하는 `match`입니다.

```rust
let dice_roll = 9;
match dice_roll {
    3 => add_fancy_hat(),
    7 => remove_fancy_hat(),
  1 other => move_player(other),
}

fn add_fancy_hat() {}
fn remove_fancy_hat() {}
fn move_player(num_spaces: u8) {}
```

처음 두 arm 의 패턴은 리터럴 값 `3`과 `7`입니다. 다른 모든 가능한 값을 다루는 마지막 arm 의 경우 패턴은 `other` \[1]로 명명하기로 선택한 변수입니다. `other` arm 에 대해 실행되는 코드는 변수를 `move_player` 함수에 전달하여 사용합니다.

이 코드는 `u8`이 가질 수 있는 모든 가능한 값을 나열하지 않았음에도 불구하고 컴파일됩니다. 마지막 패턴이 특별히 나열되지 않은 모든 값과 일치하기 때문입니다. 이 catch-all 패턴은 `match`가 완전해야 한다는 요구 사항을 충족합니다. 패턴이 순서대로 평가되므로 catch-all arm 을 마지막에 넣어야 합니다. catch-all arm 을 먼저 넣으면 다른 arm 은 실행되지 않으므로 catch-all 뒤에 arm 을 추가하면 Rust 가 경고합니다!

Rust 에는 catch-all 을 원하지만 catch-all 패턴에서 값을 *사용*하고 싶지 않을 때 사용할 수 있는 패턴도 있습니다. `_`는 모든 값과 일치하고 해당 값에 바인딩되지 않는 특수 패턴입니다. 이는 Rust 에게 값을 사용하지 않을 것이라고 알려주므로 Rust 는 사용하지 않는 변수에 대해 경고하지 않습니다.

게임 규칙을 변경해 보겠습니다. 이제 3 또는 7 이외의 숫자를 굴리면 다시 굴려야 합니다. 더 이상 catch-all 값을 사용할 필요가 없으므로 `other`라는 변수 대신 `_`를 사용하도록 코드를 변경할 수 있습니다.

```rust
let dice_roll = 9;
match dice_roll {
    3 => add_fancy_hat(),
    7 => remove_fancy_hat(),
    _ => reroll(),
}

fn add_fancy_hat() {}
fn remove_fancy_hat() {}
fn reroll() {}
```

이 예제는 마지막 arm 에서 다른 모든 값을 명시적으로 무시하고 있으므로 완전성 요구 사항도 충족합니다. 아무것도 잊지 않았습니다.

마지막으로, 게임 규칙을 한 번 더 변경하여 3 또는 7 이외의 숫자를 굴리면 턴에 다른 일이 일어나지 않도록 하겠습니다. "튜플 타입"에서 언급한 유닛 값 (빈 튜플 타입) 을 `_` arm 과 함께 제공되는 코드로 사용하여 이를 표현할 수 있습니다.

```rust
let dice_roll = 9;
match dice_roll {
    3 => add_fancy_hat(),
    7 => remove_fancy_hat(),
    _ => (),
}

fn add_fancy_hat() {}
fn remove_fancy_hat() {}
```

여기서 우리는 Rust 에게 이전 arm 의 패턴과 일치하지 않는 다른 값을 사용하지 않을 것이며, 이 경우 코드를 실행하고 싶지 않다고 명시적으로 말하고 있습니다.

패턴과 매칭에 대한 자세한 내용은 18 장에서 다룰 것입니다. 지금은 `match` 표현식이 약간 장황한 상황에서 유용할 수 있는 `if let` 구문으로 넘어가겠습니다.
