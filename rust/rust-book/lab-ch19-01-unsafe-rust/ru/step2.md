# Небезопасные суперспособности

Для перехода к unsafe Rust используйте ключевое слово `unsafe`, а затем начните новый блок, содержащий небезопасный код. В unsafe Rust вы можете совершать пять действий, которые невозможно сделать в safe Rust, которые мы называем _небезопасными суперспособностями_. Эти суперспособности включают в себя возможность:

1.  Разыменовывать сырой указатель
2.  Вызывать небезопасную функцию или метод
3.  Доступать к или изменять изменяемую статическую переменную
4.  Реализовать небезопасный трейт
5.  Доступать к полям `union`ов

Важно понимать, что `unsafe` не отключает проверку ссылок или отключает любые другие проверки безопасности Rust: если вы используете ссылку в небезопасном коде, она по-прежнему будет проверяться. Ключевое слово `unsafe` только дает вам доступ к этим пяти функциям, которые затем не проверяются компилятором на безопасность памяти. Вы по-прежнему получите некоторую степень безопасности внутри небезопасного блока.

此外, `unsafe` не означает, что код внутри блока обязательно опасен или что у него обязательно будут проблемы с безопасностью памяти: цель заключается в том, что, как программист, вы должны убедиться, что код внутри небезопасного блока будет доступать к памяти в допустимом порядке.

Люди ошибочны, и ошибки будут соверщаться, но, требуюя, чтобы эти пять небезопасных операций были внутри блоков, помеченных `unsafe`, вы будете знать, что любые ошибки, связанные с безопасностью памяти, должны быть внутри небезопасного блока. Сделайте небезопасные блоки небольшими; вы будете благодарны позже, когда будете изучать ошибки памяти.

Для максимально возможного изоляции небезопасного кода лучше заключать такой код в безопасную абстракцию и предоставить безопасный API, о котором мы поговорим позже в главе, когда будем рассматривать небезопасные функции и методы. Части стандартной библиотеки реализованы в виде безопасных абстракций над небезопасным кодом, который был проверен. Оборачивание небезопасного кода в безопасную абстракцию предотвращает то, чтобы использование `unsafe` вылезало во все места, где вы или ваши пользователи могут хотеть использовать функциональность, реализованную с использованием небезопасного кода, потому что использование безопасной абстракции безопасно.

Давайте依次 рассмотрим каждую из пяти небезопасных суперспособностей. Мы также рассмотрим некоторые абстракции, которые предоставляют безопасный интерфейс к небезопасному коду.
