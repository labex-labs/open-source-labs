# すべての配列の順列を生成する方法

コーディングを練習するには、ターミナル/SSH を開き、`node` と入力します。

ここに、配列の要素のすべての順列（重複する要素が含まれていても）を生成するアルゴリズムがあります。これを実装するには、次の手順に従ってください。

1. 再帰を使用します。
2. 与えられた配列の各要素に対して、その他の要素のすべての部分順列を作成します。
3. `Array.prototype.map()` を使用して要素と各部分順列を結合し、次に `Array.prototype.reduce()` を使用してすべての順列を 1 つの配列に結合します。
4. 基本ケースは、長さが `2` または `1` の配列です。
5. この関数の実行時間は、配列要素ごとに指数関数的に増加することに注意してください。8 から 10 個以上のエントリがある場合、すべての異なる組み合わせを解こうとするときにブラウザが停止する可能性があります。

コードは次のとおりです。

```js
const permutations = (arr) => {
  if (arr.length <= 2) return arr.length === 2 ? [arr, [arr[1], arr[0]]] : arr;
  return arr.reduce(
    (acc, item, i) =>
      acc.concat(
        permutations([...arr.slice(0, i), ...arr.slice(i + 1)]).map((val) => [
          item,
          ...val
        ])
      ),
    []
  );
};
```

`permutations()` 関数に配列引数を渡してコードをテストできます。

```js
permutations([1, 33, 5]);
// [ [1, 33, 5], [1, 5, 33], [33, 1, 5], [33, 5, 1], [5, 1, 33], [5, 33, 1] ]
```
