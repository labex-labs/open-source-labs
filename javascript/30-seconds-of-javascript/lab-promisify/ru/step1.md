# Функция promisify

Для преобразования асинхронной функции в функцию, возвращающую промис, следуйте шагам:

1. Откройте Терминал/SSH и введите `node`, чтобы начать практиковаться в написании кода.
2. Используйте каррирование, чтобы вернуть функцию, которая возвращает `Promise`, вызывающий исходную функцию.
3. Используйте оператор "остаток" (`...`), чтобы передать все параметры.
4. Если вы используете Node 8+ вы можете использовать [`util.promisify`](https://nodejs.org/api/util.html#util_util_promisify_original).
5. Вот пример кода:

```js
const promisify =
  (func) =>
  (...args) =>
    new Promise((resolve, reject) =>
      func(...args, (err, result) => (err ? reject(err) : resolve(result)))
    );
```

6. Чтобы использовать эту функцию, определите асинхронную функцию и передайте ее в качестве параметра в функцию `promisify`. Возвращенная функция теперь будет возвращать промис.

```js
const delay = promisify((d, cb) => setTimeout(cb, d));
delay(2000).then(() => console.log("Hi!")); // Promise разрешается спустя 2с
```

Функция `delay` - это пример асинхронной функции, которая теперь возвращает промис с использованием функции `promisify`.
