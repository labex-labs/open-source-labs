# 関数に基づいて 2 つの配列の和集合を見つける方法

Node.js を使って関数に基づいて 2 つの配列の和集合を見つけるには、次の手順に従います。

1. ターミナル/SSH を開き、`node` と入力します。
2. 次のコードを使って、`Array.prototype.findIndex()` を使って、`a` のすべての値と、比較関数が `a` で一致を見つけない `b` の値で `Set` を作成します。

```js
const unionWith = (a, b, comp) =>
  Array.from(
    new Set([...a, ...b.filter((x) => a.findIndex((y) => comp(x, y)) === -1)])
  );
```

3. `unionWith` 関数に 3 つの引数：最初の配列、2 番目の配列、および比較関数を渡します。
4. 関数は、提供された比較関数を使って、2 つの配列のいずれかに少なくとも 1 回以上存在するすべての要素を返します。
5. `unionWith` 関数を呼び出す例を次に示します。

```js
unionWith(
  [1, 1.2, 1.5, 3, 0],
  [1.9, 3, 0, 3.9],
  (a, b) => Math.round(a) === Math.round(b)
);
// [1, 1.2, 1.5, 3, 0, 3.9]
```

これにより、2 つの配列の和集合として `[1, 1.2, 1.5, 3, 0, 3.9]` が返されます。
