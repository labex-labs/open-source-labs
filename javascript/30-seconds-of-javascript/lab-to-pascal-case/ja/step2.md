# 単語分割のための正規表現 (Regular Expressions) の使用

文字列をパスカルケース (Pascal case) に変換する最初のステップは、文字列を個々の単語に分割することです。正規表現 (regex) を使用すると、使用される区切り文字 (スペース、ハイフン、アンダースコアなど) に関係なく、単語の境界を特定することができます。

JavaScript では、正規表現はスラッシュ (`/パターン/`) で囲まれます。正規表現を使用して文字列を単語に分割する方法を見てみましょう。

1. Node.js セッションで、まず簡単な例を試してみましょう。以下のコードを入力します。

```javascript
let str = "hello_world-example";
let words = str.split(/[-_]/);
console.log(words);
```

出力は以下のようになるはずです。

```
[ 'hello', 'world', 'example' ]
```

この正規表現 `/[-_]/` は、ハイフンまたはアンダースコアに一致し、`split()` はこれらの一致を区切り文字として使用します。

2. 次に、もう少し複雑な文字列と正規表現を試してみましょう。以下を入力します。

```javascript
let complexStr = "hello_WORLD-example phrase";
let regex =
  /[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g;
let matches = complexStr.match(regex);
console.log(matches);
```

出力は以下のようになるはずです。

```
[ 'hello', 'WORLD', 'example', 'phrase' ]
```

この正規表現を分解してみましょう。

- `/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)/`: 大文字の連続シーケンスに一致します。
- `/[A-Z]?[a-z]+[0-9]*/`: 大文字で始まる可能性のある単語に一致します。
- `/[A-Z]/`: 単一の大文字に一致します。
- `/[0-9]+/`: 数字の連続シーケンスに一致します。
- `g` フラグは、一致をグローバルに行います (すべての一致を見つけます)。

`match()` メソッドは、文字列内で見つかったすべての一致の配列を返します。これは、ほぼすべての形式の単語を特定できるため、パスカルケース変換器にとって不可欠です。
