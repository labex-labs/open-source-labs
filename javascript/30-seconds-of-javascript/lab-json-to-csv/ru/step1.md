# Преобразование JSON в CSV

Для преобразования массива объектов в строку значений, разделенных запятыми (CSV), с указанными столбцами, используйте следующую функцию:

```js
const JSONtoCSV = (arr, columns, delimiter = ",") =>
  [
    columns.join(delimiter),
    ...arr.map((obj) =>
      columns.reduce(
        (acc, key) =>
          `${acc}${!acc.length ? "" : delimiter}"${!obj[key] ? "" : obj[key]}"`,
        ""
      )
    )
  ].join("\n");
```

Для использования этой функции следуйте шагам:

1. Откройте Терминал/SSH и введите `node`, чтобы начать практиковаться в написании кода.
2. Вызовите функцию `JSONtoCSV` с следующими аргументами:
   - `arr`: массив объектов, которые необходимо преобразовать.
   - `columns`: массив строк, которые определяют столбцы, которые должны быть включены в выходной CSV.
   - `delimiter`: необязательная строка, которая определяет разделитель, который будет использоваться (значение по умолчанию - `','`).
3. Функция вернет CSV-строку, которая содержит только указанные столбцы и значения объектов.
4. Если разделитель не указан, будет использоваться разделитель по умолчанию `','`.
5. В нижнем кодовом блоке приведены примеры использования функции.

```js
JSONtoCSV(
  [{ a: 1, b: 2 }, { a: 3, b: 4, c: 5 }, { a: 6 }, { b: 7 }],
  ["a", "b"]
); // 'a,b\n"1","2"\n"3","4"\n"6",""\n"","7"'

JSONtoCSV(
  [{ a: 1, b: 2 }, { a: 3, b: 4, c: 5 }, { a: 6 }, { b: 7 }],
  ["a", "b"],
  ";"
); // 'a;b\n"1";"2"\n"3";"4"\n"6";""\n"";"7"'
```
