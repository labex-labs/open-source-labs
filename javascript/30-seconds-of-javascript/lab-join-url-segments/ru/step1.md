# Объединение и нормализация сегментов URL

Для объединения заданных сегментов URL и нормализации полученного URL следуйте шагам ниже:

1. Используйте `Array.prototype.join()`, чтобы объединить сегменты URL.
2. Используйте серию вызовов `String.prototype.replace()` с различными регулярными выражениями для нормализации полученного URL путём:
   - удаления двойных косых черточек;
   - добавления правильных косых черточек для протокола;
   - удаления косых черточек перед параметрами;
   - объединения параметров с помощью `'&'` и нормализации первого разделителя параметров.

Используйте сниппет кода ниже для объединения и нормализации сегментов URL:

```js
const URLJoin = (...args) =>
  args
    .join("/")
    .replace(/[\/]+/g, "/")
    .replace(/^(.+):\//, "$1://")
    .replace(/^file:/, "file:/")
    .replace(/\/(\?|&|#[^!])/g, "$1")
    .replace(/\?/g, "&")
    .replace("&", "?");
```

Пример использования:

```js
URLJoin("http://www.google.com", "a", "/b/cd", "?foo=123", "?bar=foo");
// 'http://www.google.com/a/b/cd?foo=123&bar=foo'
```
