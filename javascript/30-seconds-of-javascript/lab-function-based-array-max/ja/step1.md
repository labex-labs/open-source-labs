# 関数に基づいて配列の最大値を求める方法

関数に基づいて配列の最大値を求めるには、次の手順に従います。

1. ターミナル/SSH を開き、コーディングの練習を始めるために `node` と入力します。
2. `Array.prototype.map()` を使って、配列の各要素を与えられた関数 `fn` が返す値にマッピングします。
3. `Math.max()` を使って、マッピングされた配列の最大値を取得します。

以下は、上記の手順を実装したコードのサンプルです。

```js
const maxBy = (arr, fn) =>
  Math.max(...arr.map(typeof fn === "function" ? fn : (val) => val[fn]));
```

`maxBy` 関数を使用するには、配列と各要素を値にマッピングするために使用する関数を渡します。関数を直接渡すか、配列の各オブジェクトの値にアクセスするために使用するキーを表す文字列を渡すことができます。

以下は、`maxBy` 関数のいくつかのサンプルコールです。

```js
maxBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], (x) => x.n); // 8 を返す
maxBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], "n"); // 8 を返す
```
