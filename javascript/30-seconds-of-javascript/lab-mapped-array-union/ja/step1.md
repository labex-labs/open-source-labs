# 提供されたマッピング関数を使って配列を結合する関数

コーディングを始めるには、ターミナル/SSH を開き、`node` と入力します。

この関数は、2 つの入力配列のそれぞれに対して提供されたマッピング関数を適用した後、どちらかの配列に存在する要素の配列を返します。

これを達成する手順は以下の通りです。

1. 最初の入力配列 `a` のすべての値にマッピング関数を適用することで新しい `Set` を作成します。
2. マッピング関数を適用したときに、先に作成した `Set` の値と一致しない `b` のすべての要素からなる別の `Set` を作成します。
3. 2 つのセットを結合し、配列に変換します。
4. 結果の配列を返します。

以下は `unionBy` 関数のコードです。

```js
const unionBy = (a, b, fn) => {
  const setA = new Set(a.map(fn));
  return Array.from(new Set([...a, ...b.filter((x) => !setA.has(fn(x)))]));
};
```

`unionBy` 関数の使い方の例をいくつか示します。

```js
unionBy([2.1], [1.2, 2.3], Math.floor); // 出力：[2.1, 1.2]
unionBy([{ id: 1 }, { id: 2 }], [{ id: 2 }, { id: 3 }], (x) => x.id);
// 出力：[{ id: 1 }, { id: 2 }, { id: 3 }]
```
