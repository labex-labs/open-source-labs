# 使用提供的映射函数合并数组的函数

要开始编码，请打开终端/SSH 并输入 `node`。

此函数在对两个输入数组中的每个元素应用提供的映射函数后，返回存在于这两个数组中任意一个数组的元素组成的数组。

实现此功能的步骤如下：

1. 通过对第一个输入数组 `a` 中的所有值应用映射函数来创建一个新的 `Set`。
2. 创建另一个 `Set`，它由在应用映射函数时与先前创建的 `Set` 中的任何值都不匹配的 `b` 中的所有元素组成。
3. 合并这两个集合并将它们转换为一个数组。
4. 返回结果数组。

以下是 `unionBy` 函数的代码：

```js
const unionBy = (a, b, fn) => {
  const setA = new Set(a.map(fn));
  return Array.from(new Set([...a, ...b.filter((x) => !setA.has(fn(x)))]));
};
```

以下是一些使用 `unionBy` 函数的示例：

```js
unionBy([2.1], [1.2, 2.3], Math.floor); // 输出：[2.1, 1.2]
unionBy([{ id: 1 }, { id: 2 }], [{ id: 2 }, { id: 3 }], (x) => x.id);
// 输出：[{ id: 1 }, { id: 2 }, { id: 3 }]
```
