# Как сгруппировать и подсчитать элементы в массиве с использованием JavaScript

Чтобы сгруппировать и подсчитать элементы в массиве с использованием JavaScript, следуйте этим шагам:

1. Откройте Терминал/SSH и введите `node`, чтобы начать практиковать программирование.
2. Используйте метод `Array.prototype.map()`, чтобы сопоставить значения массива с именем функции или свойства.
3. Используйте метод `Array.prototype.reduce()`, чтобы создать объект, где ключи формируются из сопоставленных результатов.
4. Создайте функцию под названием `countBy`, которая принимает массив и функцию в качестве аргументов.
5. Внутри функции `countBy` используйте тернарный оператор, чтобы проверить, является ли переданный аргумент функцией или именем свойства. Если это функция, используйте ее в качестве функции сопоставления. Если это имя свойства, получите это свойство элементов массива.
6. Используйте метод `reduce()`, чтобы создать объект, где каждый ключ представляет собой уникальный элемент в массиве, а его значение - это количество раз, которое он встречается в массиве.

Вот код:

```js
const countBy = (arr, fn) =>
  arr
    .map(typeof fn === "function" ? fn : (val) => val[fn])
    .reduce((acc, val) => {
      acc[val] = (acc[val] || 0) + 1;
      return acc;
    }, {});
```

Вы можете протестировать функцию `countBy` с помощью следующих примеров:

```js
countBy([6.1, 4.2, 6.3], Math.floor); // {4: 1, 6: 2}
countBy(["one", "two", "three"], "length"); // {3: 2, 5: 1}
countBy([{ count: 5 }, { count: 10 }, { count: 5 }], (x) => x.count); // {5: 2, 10: 1}
```
