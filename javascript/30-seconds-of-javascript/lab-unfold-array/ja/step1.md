# 配列を展開する

イテレータ関数と初期の種値を使って配列を作成するには、次の手順に従います。

1. ターミナル/SSH を開き、コーディングを練習するために `node` と入力します。
2. `while` ループと `Array.prototype.push()` を使って、イテレータ関数を `false` を返すまで繰り返し呼び出します。
3. イテレータ関数は 1 つの引数 (`seed`) を受け取り、常に 2 つの要素を持つ配列 ([`value`, `nextSeed`]) または終了するための `false` を返す必要があります。

`unfold` 関数を実装するには、次のコードを使います。

```js
const unfold = (fn, seed) => {
  let result = [],
    val = [null, seed];
  while ((val = fn(val[1]))) result.push(val[0]);
  return result;
};
```

ここでは、`unfold` 関数を使う方法の例を示します。

```js
var f = (n) => (n > 50 ? false : [-n, n + 10]);
unfold(f, 10); // [-10, -20, -30, -40, -50]
```

これにより、初期の種値 `10` から始まるイテレータ関数 `f` によって生成される値を持つ配列が生成されます。イテレータ関数は各ステップで 2 つの要素を持つ配列を生成します。現在の種値の否定と、10 だけ増加する次の種値です。種値が 50 を超えるまでこのプロセスが続き、その時点で関数は `false` を返します。
