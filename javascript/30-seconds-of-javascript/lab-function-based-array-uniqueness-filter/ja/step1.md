# 関数に基づいて一意の配列値をフィルタリングする

比較関数 `fn` に基づいて一意の値を除外することで、一意でない値のみを含む配列を作成する方法は次のとおりです。

```js
const filterUniqueBy = (arr, fn) =>
  arr.filter((v, i) => arr.some((x, j) => (i !== j) === fn(v, x, i, j)));
```

この関数を使用するには、`filterUniqueBy()` に2つの引数を渡します。フィルタリングしたい配列と比較関数です。比較関数は4つの引数を取る必要があります。比較対象の2つの要素の値とそれらのインデックスです。

たとえば、オブジェクトの配列があり、一意の `id` 値を持つオブジェクトを除外したい場合は、次のようにできます。

```js
filterUniqueBy(
  [
    { id: 0, value: "a" },
    { id: 1, value: "b" },
    { id: 2, value: "c" },
    { id: 3, value: "d" },
    { id: 0, value: "e" }
  ],
  (a, b) => a.id == b.id
); // [ { id: 0, value: 'a' }, { id: 0, value: 'e' } ]
```

コーディングの練習を始めるには、ターミナル/SSH を開いて `node` と入力します。
