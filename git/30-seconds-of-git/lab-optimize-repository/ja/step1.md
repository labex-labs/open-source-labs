# ローカルリポジトリを最適化する

時間の経過とともに、Git リポジトリには古いファイルバージョンやその他不要なデータがたまり、Git の動作が遅くなり、リポジトリを操作するのが難しくなる場合があります。ローカルリポジトリを最適化するには、この不要なデータを削除する必要があります。これは `git gc` コマンドを使用して行うことができます。

`git gc` コマンドは「Git ガーベジコレクタ」を意味します。これは、リポジトリ内の不要なデータをクリーンアップするために使用されます。`git gc` を実行すると、Git は任意のルーズオブジェクト（どのブランチやタグにも参照されていないオブジェクト）を削除し、残りのオブジェクトを新しいパックファイルのセットにパックします。これにより、リポジトリのサイズを大幅に削減し、Git のパフォーマンスを向上させることができます。

ローカルリポジトリを最適化するには、`git gc` コマンドに `--prune=now` と `--aggressive` オプションを付けて使用します。たとえば、ホームディレクトリに `git-playground` という名前の Git リポジトリがあるとします。このリポジトリを最適化するには、次のコマンドを実行します。

```shell
cd git-playground
git gc --prune=now --aggressive
```

これが、すべてのルーズオブジェクトを削除し、残りのオブジェクトを新しいパックファイルのセットにパックすることで `git-playground` リポジトリを最適化した結果です。

![Git repository optimization result](../assets/challenge-optimize-repository-step1-1.png)
